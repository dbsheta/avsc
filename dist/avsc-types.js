(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.avro=f()}})(function(){var define,module,exports;return function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){"use strict";var types=require("../../lib/types");function parse(any,opts){var schema;if(typeof any=="string"){try{schema=JSON.parse(any)}catch(err){schema=any}}else{schema=any}return types.Type.forSchema(schema,opts)}module.exports={Type:types.Type,parse:parse,types:types.builtins,combine:types.Type.forTypes,infer:types.Type.forValue}},{"../../lib/types":3}],2:[function(require,module,exports){(function(Buffer){(function(){"use strict";function createHash(algorithm){if(algorithm!=="md5"){throw new Error("only md5 is supported in the browser")}return new Hash}function Hash(){this.data=undefined}Hash.prototype.end=function(data){this.data=data};Hash.prototype.read=function(){return md5(this.data)};function md5cycle(x,k){var a=x[0],b=x[1],c=x[2],d=x[3];a=ff(a,b,c,d,k[0],7,-680876936);d=ff(d,a,b,c,k[1],12,-389564586);c=ff(c,d,a,b,k[2],17,606105819);b=ff(b,c,d,a,k[3],22,-1044525330);a=ff(a,b,c,d,k[4],7,-176418897);d=ff(d,a,b,c,k[5],12,1200080426);c=ff(c,d,a,b,k[6],17,-1473231341);b=ff(b,c,d,a,k[7],22,-45705983);a=ff(a,b,c,d,k[8],7,1770035416);d=ff(d,a,b,c,k[9],12,-1958414417);c=ff(c,d,a,b,k[10],17,-42063);b=ff(b,c,d,a,k[11],22,-1990404162);a=ff(a,b,c,d,k[12],7,1804603682);d=ff(d,a,b,c,k[13],12,-40341101);c=ff(c,d,a,b,k[14],17,-1502002290);b=ff(b,c,d,a,k[15],22,1236535329);a=gg(a,b,c,d,k[1],5,-165796510);d=gg(d,a,b,c,k[6],9,-1069501632);c=gg(c,d,a,b,k[11],14,643717713);b=gg(b,c,d,a,k[0],20,-373897302);a=gg(a,b,c,d,k[5],5,-701558691);d=gg(d,a,b,c,k[10],9,38016083);c=gg(c,d,a,b,k[15],14,-660478335);b=gg(b,c,d,a,k[4],20,-405537848);a=gg(a,b,c,d,k[9],5,568446438);d=gg(d,a,b,c,k[14],9,-1019803690);c=gg(c,d,a,b,k[3],14,-187363961);b=gg(b,c,d,a,k[8],20,1163531501);a=gg(a,b,c,d,k[13],5,-1444681467);d=gg(d,a,b,c,k[2],9,-51403784);c=gg(c,d,a,b,k[7],14,1735328473);b=gg(b,c,d,a,k[12],20,-1926607734);a=hh(a,b,c,d,k[5],4,-378558);d=hh(d,a,b,c,k[8],11,-2022574463);c=hh(c,d,a,b,k[11],16,1839030562);b=hh(b,c,d,a,k[14],23,-35309556);a=hh(a,b,c,d,k[1],4,-1530992060);d=hh(d,a,b,c,k[4],11,1272893353);c=hh(c,d,a,b,k[7],16,-155497632);b=hh(b,c,d,a,k[10],23,-1094730640);a=hh(a,b,c,d,k[13],4,681279174);d=hh(d,a,b,c,k[0],11,-358537222);c=hh(c,d,a,b,k[3],16,-722521979);b=hh(b,c,d,a,k[6],23,76029189);a=hh(a,b,c,d,k[9],4,-640364487);d=hh(d,a,b,c,k[12],11,-421815835);c=hh(c,d,a,b,k[15],16,530742520);b=hh(b,c,d,a,k[2],23,-995338651);a=ii(a,b,c,d,k[0],6,-198630844);d=ii(d,a,b,c,k[7],10,1126891415);c=ii(c,d,a,b,k[14],15,-1416354905);b=ii(b,c,d,a,k[5],21,-57434055);a=ii(a,b,c,d,k[12],6,1700485571);d=ii(d,a,b,c,k[3],10,-1894986606);c=ii(c,d,a,b,k[10],15,-1051523);b=ii(b,c,d,a,k[1],21,-2054922799);a=ii(a,b,c,d,k[8],6,1873313359);d=ii(d,a,b,c,k[15],10,-30611744);c=ii(c,d,a,b,k[6],15,-1560198380);b=ii(b,c,d,a,k[13],21,1309151649);a=ii(a,b,c,d,k[4],6,-145523070);d=ii(d,a,b,c,k[11],10,-1120210379);c=ii(c,d,a,b,k[2],15,718787259);b=ii(b,c,d,a,k[9],21,-343485551);x[0]=add32(a,x[0]);x[1]=add32(b,x[1]);x[2]=add32(c,x[2]);x[3]=add32(d,x[3])}function cmn(q,a,b,x,s,t){a=add32(add32(a,q),add32(x,t));return add32(a<<s|a>>>32-s,b)}function ff(a,b,c,d,x,s,t){return cmn(b&c|~b&d,a,b,x,s,t)}function gg(a,b,c,d,x,s,t){return cmn(b&d|c&~d,a,b,x,s,t)}function hh(a,b,c,d,x,s,t){return cmn(b^c^d,a,b,x,s,t)}function ii(a,b,c,d,x,s,t){return cmn(c^(b|~d),a,b,x,s,t)}function md51(s){var n=s.length,state=[1732584193,-271733879,-1732584194,271733878],i;for(i=64;i<=s.length;i+=64){md5cycle(state,md5blk(s.substring(i-64,i)))}s=s.substring(i-64);var tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<s.length;i++){tail[i>>2]|=s.charCodeAt(i)<<(i%4<<3)}tail[i>>2]|=128<<(i%4<<3);if(i>55){md5cycle(state,tail);for(i=0;i<16;i++){tail[i]=0}}tail[14]=n*8;md5cycle(state,tail);return state}function md5blk(s){var md5blks=[],i;for(i=0;i<64;i+=4){md5blks[i>>2]=s.charCodeAt(i)+(s.charCodeAt(i+1)<<8)+(s.charCodeAt(i+2)<<16)+(s.charCodeAt(i+3)<<24)}return md5blks}function md5(s){var arr=md51(s);var buf=Buffer.alloc?Buffer.alloc(16):new Buffer(16);var i;for(i=0;i<4;i++){buf.writeIntLE(arr[i],i*4,4)}return buf}function add32(a,b){return a+b&4294967295}module.exports={createHash:createHash}}).call(this)}).call(this,require("buffer").Buffer)},{buffer:8}],3:[function(require,module,exports){(function(Buffer){(function(){"use strict";var utils=require("./utils"),buffer=require("buffer"),util=require("util");var Tap=utils.Tap;var debug=util.debuglog("avsc:types");var f=util.format;var TYPES={array:ArrayType,boolean:BooleanType,bytes:BytesType,double:DoubleType,enum:EnumType,error:RecordType,fixed:FixedType,float:FloatType,int:IntType,long:LongType,map:MapType,null:NullType,record:RecordType,string:StringType};var RANDOM=new utils.Lcg;var TAP=new Tap(new buffer.SlowBuffer(1024));var LOGICAL_TYPE=null;var UNDERLYING_TYPES=[];function Type(schema,opts){var type;if(LOGICAL_TYPE){type=LOGICAL_TYPE;UNDERLYING_TYPES.push([LOGICAL_TYPE,this]);LOGICAL_TYPE=null}else{type=this}this._hash=new Hash;this.name=undefined;this.aliases=undefined;this.doc=schema&&schema.doc?""+schema.doc:undefined;if(schema){var name=schema.name;var namespace=schema.namespace===undefined?opts&&opts.namespace:schema.namespace;if(name!==undefined){name=maybeQualify(name,namespace);if(isPrimitive(name)){throw new Error(f("cannot rename primitive type: %j",name))}var registry=opts&&opts.registry;if(registry){if(registry[name]!==undefined){throw new Error(f("duplicate type name: %s",name))}registry[name]=type}}else if(opts&&opts.noAnonymousTypes){throw new Error(f("missing name property in schema: %j",schema))}this.name=name;this.aliases=schema.aliases?schema.aliases.map(function(s){return maybeQualify(s,namespace)}):[]}}Type.forSchema=function(schema,opts){opts=opts||{};opts.registry=opts.registry||{};var UnionType=function(wrapUnions){if(wrapUnions===true){wrapUnions="always"}else if(wrapUnions===false){wrapUnions="never"}else if(wrapUnions===undefined){wrapUnions="auto"}else if(typeof wrapUnions=="string"){wrapUnions=wrapUnions.toLowerCase()}switch(wrapUnions){case"always":return WrappedUnionType;case"never":return UnwrappedUnionType;case"auto":return undefined;default:throw new Error(f("invalid wrap unions option: %j",wrapUnions))}}(opts.wrapUnions);if(schema===null){throw new Error('invalid type: null (did you mean "null"?)')}if(Type.isType(schema)){return schema}var type;if(opts.typeHook&&(type=opts.typeHook(schema,opts))){if(!Type.isType(type)){throw new Error(f("invalid typehook return value: %j",type))}return type}if(typeof schema=="string"){schema=maybeQualify(schema,opts.namespace);type=opts.registry[schema];if(type){return type}if(isPrimitive(schema)){return opts.registry[schema]=Type.forSchema({type:schema},opts)}throw new Error(f("undefined type name: %s",schema))}if(schema.logicalType&&opts.logicalTypes&&!LOGICAL_TYPE){var DerivedType=opts.logicalTypes[schema.logicalType];if(DerivedType){var namespace=opts.namespace;var registry={};Object.keys(opts.registry).forEach(function(key){registry[key]=opts.registry[key]});try{debug("instantiating logical type for %s",schema.logicalType);return new DerivedType(schema,opts)}catch(err){debug("failed to instantiate logical type for %s",schema.logicalType);if(opts.assertLogicalTypes){throw err}LOGICAL_TYPE=null;opts.namespace=namespace;opts.registry=registry}}}if(Array.isArray(schema)){var logicalType=LOGICAL_TYPE;LOGICAL_TYPE=null;var types=schema.map(function(obj){return Type.forSchema(obj,opts)});if(!UnionType){UnionType=isAmbiguous(types)?WrappedUnionType:UnwrappedUnionType}LOGICAL_TYPE=logicalType;type=new UnionType(types,opts)}else{type=function(typeName){var Type=TYPES[typeName];if(Type===undefined){throw new Error(f("unknown type: %j",typeName))}return new Type(schema,opts)}(schema.type)}return type};Type.forValue=function(val,opts){opts=opts||{};opts.emptyArrayType=opts.emptyArrayType||Type.forSchema({type:"array",items:"null"});if(opts.valueHook){var type=opts.valueHook(val,opts);if(type!==undefined){if(!Type.isType(type)){throw new Error(f("invalid value hook return value: %j",type))}return type}}switch(typeof val){case"string":return Type.forSchema("string",opts);case"boolean":return Type.forSchema("boolean",opts);case"number":if((val|0)===val){return Type.forSchema("int",opts)}else if(Math.abs(val)<9007199254740991){return Type.forSchema("float",opts)}return Type.forSchema("double",opts);case"object":if(val===null){return Type.forSchema("null",opts)}else if(Array.isArray(val)){if(!val.length){return opts.emptyArrayType}return Type.forSchema({type:"array",items:Type.forTypes(val.map(function(v){return Type.forValue(v,opts)}),opts)},opts)}else if(Buffer.isBuffer(val)){return Type.forSchema("bytes",opts)}var fieldNames=Object.keys(val);if(fieldNames.some(function(s){return!utils.isValidName(s)})){return Type.forSchema({type:"map",values:Type.forTypes(fieldNames.map(function(s){return Type.forValue(val[s],opts)}),opts)},opts)}return Type.forSchema({type:"record",fields:fieldNames.map(function(s){return{name:s,type:Type.forValue(val[s],opts)}})},opts);default:throw new Error(f("cannot infer type from: %j",val))}};Type.forTypes=function(types,opts){if(!types.length){throw new Error("no types to combine")}if(types.length===1){return types[0]}opts=opts||{};var expanded=[];var numWrappedUnions=0;var isValidWrappedUnion=true;types.forEach(function(type){switch(type.typeName){case"union:unwrapped":isValidWrappedUnion=false;expanded=expanded.concat(type.types);break;case"union:wrapped":numWrappedUnions++;expanded=expanded.concat(type.types);break;case"null":expanded.push(type);break;default:isValidWrappedUnion=false;expanded.push(type)}});if(numWrappedUnions){if(!isValidWrappedUnion){throw new Error("cannot combine wrapped union")}var branchTypes={};expanded.forEach(function(type){var name=type.branchName;var branchType=branchTypes[name];if(!branchType){branchTypes[name]=type}else if(!type.equals(branchType)){throw new Error("inconsistent branch type")}});var wrapUnions=opts.wrapUnions;var unionType;opts.wrapUnions=true;try{unionType=Type.forSchema(Object.keys(branchTypes).map(function(name){return branchTypes[name]}),opts)}catch(err){opts.wrapUnions=wrapUnions;throw err}opts.wrapUnions=wrapUnions;return unionType}var bucketized={};expanded.forEach(function(type){var bucket=getTypeBucket(type);var bucketTypes=bucketized[bucket];if(!bucketTypes){bucketized[bucket]=bucketTypes=[]}bucketTypes.push(type)});var buckets=Object.keys(bucketized);var augmented=buckets.map(function(bucket){var bucketTypes=bucketized[bucket];if(bucketTypes.length===1){return bucketTypes[0]}else{switch(bucket){case"null":case"boolean":return bucketTypes[0];case"number":return combineNumbers(bucketTypes);case"string":return combineStrings(bucketTypes,opts);case"buffer":return combineBuffers(bucketTypes,opts);case"array":bucketTypes=bucketTypes.filter(function(t){return t!==opts.emptyArrayType});if(!bucketTypes.length){return opts.emptyArrayType}return Type.forSchema({type:"array",items:Type.forTypes(bucketTypes.map(function(t){return t.itemsType}),opts)},opts);default:return combineObjects(bucketTypes,opts)}}});if(augmented.length===1){return augmented[0]}else{return Type.forSchema(augmented,opts)}};Type.isType=function(){var l=arguments.length;if(!l){return false}var any=arguments[0];if(!any||typeof any._update!="function"||typeof any.fingerprint!="function"){return false}if(l===1){return true}var typeName=any.typeName;var i;for(i=1;i<l;i++){if(typeName.indexOf(arguments[i])===0){return true}}return false};Type.__reset=function(size){debug("resetting type buffer to %d",size);TAP.buf=new buffer.SlowBuffer(size)};Object.defineProperty(Type.prototype,"branchName",{enumerable:true,get:function(){var type=Type.isType(this,"logical")?this.underlyingType:this;if(type.name){return type.name}if(Type.isType(type,"abstract")){return type._concreteTypeName}return Type.isType(type,"union")?undefined:type.typeName}});Type.prototype.clone=function(val,opts){if(opts){opts={coerce:!!opts.coerceBuffers|0,fieldHook:opts.fieldHook,qualifyNames:!!opts.qualifyNames,skip:!!opts.skipMissingFields,wrap:!!opts.wrapUnions|0};return this._copy(val,opts)}else{return this.fromBuffer(this.toBuffer(val))}};Type.prototype.compare=utils.abstractFunction;Type.prototype.compareBuffers=function(buf1,buf2){return this._match(new Tap(buf1),new Tap(buf2))};Type.prototype.createResolver=function(type,opts){if(!Type.isType(type)){throw new Error(f("not a type: %j",type))}if(!Type.isType(this,"union","logical")&&Type.isType(type,"logical")){return this.createResolver(type.underlyingType,opts)}opts=opts||{};opts.registry=opts.registry||{};var resolver,key;if(Type.isType(this,"record","error")&&Type.isType(type,"record","error")){key=this.name+":"+type.name;resolver=opts.registry[key];if(resolver){return resolver}}resolver=new Resolver(this);if(key){opts.registry[key]=resolver}if(Type.isType(type,"union")){var resolvers=type.types.map(function(t){return this.createResolver(t,opts)},this);resolver._read=function(tap){var index=tap.readLong();var resolver=resolvers[index];if(resolver===undefined){throw new Error(f("invalid union index: %s",index))}return resolvers[index]._read(tap)}}else{this._update(resolver,type,opts)}if(!resolver._read){throw new Error(f("cannot read %s as %s",type,this))}return Object.freeze(resolver)};Type.prototype.decode=function(buf,pos,resolver){var tap=new Tap(buf,pos);var val=readValue(this,tap,resolver);if(!tap.isValid()){return{value:undefined,offset:-1}}return{value:val,offset:tap.pos}};Type.prototype.encode=function(val,buf,pos){var tap=new Tap(buf,pos);this._write(tap,val);if(!tap.isValid()){return buf.length-tap.pos}return tap.pos};Type.prototype.equals=function(type){return Type.isType(type)&&this.fingerprint().equals(type.fingerprint())};Type.prototype.fingerprint=function(algorithm){if(!algorithm){if(!this._hash.str){var schemaStr=JSON.stringify(this.schema());this._hash.str=utils.getHash(schemaStr).toString("binary")}return utils.bufferFrom(this._hash.str,"binary")}else{return utils.getHash(JSON.stringify(this.schema()),algorithm)}};Type.prototype.fromBuffer=function(buf,resolver,noCheck){var tap=new Tap(buf);var val=readValue(this,tap,resolver,noCheck);if(!tap.isValid()){throw new Error("truncated buffer")}if(!noCheck&&tap.pos<buf.length){throw new Error("trailing data")}return val};Type.prototype.fromString=function(str){return this._copy(JSON.parse(str),{coerce:2})};Type.prototype.inspect=function(){var typeName=this.typeName;var className=getClassName(typeName);if(isPrimitive(typeName)){return f("<%s>",className)}else{var obj=this.schema({exportAttrs:true,noDeref:true});if(typeof obj=="object"&&!Type.isType(this,"logical")){obj.type=undefined}return f("<%s %j>",className,obj)}};Type.prototype.isValid=function(val,opts){var flags=(opts&&opts.noUndeclaredFields)|0;var errorHook=opts&&opts.errorHook;var hook,path;if(errorHook){path=[];hook=function(any,type){errorHook.call(this,path.slice(),any,type,val)}}return this._check(val,flags,hook,path)};Type.prototype.random=utils.abstractFunction;Type.prototype.schema=function(opts){return this._attrs({exportAttrs:!!(opts&&opts.exportAttrs),noDeref:!!(opts&&opts.noDeref)})};Type.prototype.toBuffer=function(val){TAP.pos=0;this._write(TAP,val);var buf=utils.newBuffer(TAP.pos);if(TAP.isValid()){TAP.buf.copy(buf,0,0,TAP.pos)}else{this._write(new Tap(buf),val)}return buf};Type.prototype.toJSON=function(){return this.schema({exportAttrs:true})};Type.prototype.toString=function(val){if(val===undefined){return JSON.stringify(this.schema({noDeref:true}))}return JSON.stringify(this._copy(val,{coerce:3}))};Type.prototype.wrap=function(val){var Branch=this._branchConstructor;return Branch===null?null:new Branch(val)};Type.prototype._attrs=function(opts){opts.derefed=opts.derefed||{};var name=this.name;if(name!==undefined){if(opts.noDeref||opts.derefed[name]){return name}opts.derefed[name]=true}var schema={};if(this.name!==undefined){schema.name=name}schema.type=this.typeName;var derefedSchema=this._deref(schema,opts);if(derefedSchema!==undefined){schema=derefedSchema}if(opts.exportAttrs){if(this.aliases&&this.aliases.length){schema.aliases=this.aliases}if(this.doc!==undefined){schema.doc=this.doc}}return schema};Type.prototype._createBranchConstructor=function(){var name=this.branchName;if(name==="null"){return null}var attr=~name.indexOf(".")?"this['"+name+"']":"this."+name;var body="return function Branch$(val) { "+attr+" = val; };";var Branch=new Function(body)();Branch.type=this;Branch.prototype.unwrap=new Function("return "+attr+";");Branch.prototype.unwrapped=Branch.prototype.unwrap;return Branch};Type.prototype._peek=function(tap){var pos=tap.pos;var val=this._read(tap);tap.pos=pos;return val};Type.prototype._check=utils.abstractFunction;Type.prototype._copy=utils.abstractFunction;Type.prototype._deref=utils.abstractFunction;Type.prototype._match=utils.abstractFunction;Type.prototype._read=utils.abstractFunction;Type.prototype._skip=utils.abstractFunction;Type.prototype._update=utils.abstractFunction;Type.prototype._write=utils.abstractFunction;Type.prototype.getAliases=function(){return this.aliases};Type.prototype.getFingerprint=Type.prototype.fingerprint;Type.prototype.getName=function(asBranch){return this.name||!asBranch?this.name:this.branchName};Type.prototype.getSchema=Type.prototype.schema;Type.prototype.getTypeName=function(){return this.typeName};function PrimitiveType(noFreeze){Type.call(this);this._branchConstructor=this._createBranchConstructor();if(!noFreeze){Object.freeze(this)}}util.inherits(PrimitiveType,Type);PrimitiveType.prototype._update=function(resolver,type){if(type.typeName===this.typeName){resolver._read=this._read}};PrimitiveType.prototype._copy=function(val){this._check(val,undefined,throwInvalidError);return val};PrimitiveType.prototype._deref=function(){return this.typeName};PrimitiveType.prototype.compare=utils.compare;function NullType(){PrimitiveType.call(this)}util.inherits(NullType,PrimitiveType);NullType.prototype._check=function(val,flags,hook){var b=val===null;if(!b&&hook){hook(val,this)}return b};NullType.prototype._read=function(){return null};NullType.prototype._skip=function(){};NullType.prototype._write=function(tap,val){if(val!==null){throwInvalidError(val,this)}};NullType.prototype._match=function(){return 0};NullType.prototype.compare=NullType.prototype._match;NullType.prototype.typeName="null";NullType.prototype.random=NullType.prototype._read;function BooleanType(){PrimitiveType.call(this)}util.inherits(BooleanType,PrimitiveType);BooleanType.prototype._check=function(val,flags,hook){var b=typeof val=="boolean";if(!b&&hook){hook(val,this)}return b};BooleanType.prototype._read=function(tap){return tap.readBoolean()};BooleanType.prototype._skip=function(tap){tap.skipBoolean()};BooleanType.prototype._write=function(tap,val){if(typeof val!="boolean"){throwInvalidError(val,this)}tap.writeBoolean(val)};BooleanType.prototype._match=function(tap1,tap2){return tap1.matchBoolean(tap2)};BooleanType.prototype.typeName="boolean";BooleanType.prototype.random=function(){return RANDOM.nextBoolean()};function IntType(){PrimitiveType.call(this)}util.inherits(IntType,PrimitiveType);IntType.prototype._check=function(val,flags,hook){var b=val===(val|0);if(!b&&hook){hook(val,this)}return b};IntType.prototype._read=function(tap){return tap.readInt()};IntType.prototype._skip=function(tap){tap.skipInt()};IntType.prototype._write=function(tap,val){if(val!==(val|0)){throwInvalidError(val,this)}tap.writeInt(val)};IntType.prototype._match=function(tap1,tap2){return tap1.matchInt(tap2)};IntType.prototype.typeName="int";IntType.prototype.random=function(){return RANDOM.nextInt(1e3)|0};function LongType(){PrimitiveType.call(this)}util.inherits(LongType,PrimitiveType);LongType.prototype._check=function(val,flags,hook){var b=typeof val=="number"&&val%1===0&&isSafeLong(val);if(!b&&hook){hook(val,this)}return b};LongType.prototype._read=function(tap){var n=tap.readLong();if(!isSafeLong(n)){throw new Error("potential precision loss")}return n};LongType.prototype._skip=function(tap){tap.skipLong()};LongType.prototype._write=function(tap,val){if(typeof val!="number"||val%1||!isSafeLong(val)){throwInvalidError(val,this)}tap.writeLong(val)};LongType.prototype._match=function(tap1,tap2){return tap1.matchLong(tap2)};LongType.prototype._update=function(resolver,type){switch(type.typeName){case"int":resolver._read=type._read;break;case"abstract:long":case"long":resolver._read=this._read}};LongType.prototype.typeName="long";LongType.prototype.random=function(){return RANDOM.nextInt()};LongType.__with=function(methods,noUnpack){methods=methods||{};var mapping={toBuffer:"_toBuffer",fromBuffer:"_fromBuffer",fromJSON:"_fromJSON",toJSON:"_toJSON",isValid:"_isValid",compare:"compare"};var type=new AbstractLongType(noUnpack);Object.keys(mapping).forEach(function(name){if(methods[name]===undefined){throw new Error(f("missing method implementation: %s",name))}type[mapping[name]]=methods[name]});return Object.freeze(type)};function FloatType(){PrimitiveType.call(this)}util.inherits(FloatType,PrimitiveType);FloatType.prototype._check=function(val,flags,hook){var b=typeof val=="number";if(!b&&hook){hook(val,this)}return b};FloatType.prototype._read=function(tap){return tap.readFloat()};FloatType.prototype._skip=function(tap){tap.skipFloat()};FloatType.prototype._write=function(tap,val){if(typeof val!="number"){throwInvalidError(val,this)}tap.writeFloat(val)};FloatType.prototype._match=function(tap1,tap2){return tap1.matchFloat(tap2)};FloatType.prototype._update=function(resolver,type){switch(type.typeName){case"float":case"int":resolver._read=type._read;break;case"abstract:long":case"long":resolver._read=function(tap){return tap.readLong()}}};FloatType.prototype.typeName="float";FloatType.prototype.random=function(){return RANDOM.nextFloat(1e3)};function DoubleType(){PrimitiveType.call(this)}util.inherits(DoubleType,PrimitiveType);DoubleType.prototype._check=function(val,flags,hook){var b=typeof val=="number";if(!b&&hook){hook(val,this)}return b};DoubleType.prototype._read=function(tap){return tap.readDouble()};DoubleType.prototype._skip=function(tap){tap.skipDouble()};DoubleType.prototype._write=function(tap,val){if(typeof val!="number"){throwInvalidError(val,this)}tap.writeDouble(val)};DoubleType.prototype._match=function(tap1,tap2){return tap1.matchDouble(tap2)};DoubleType.prototype._update=function(resolver,type){switch(type.typeName){case"double":case"float":case"int":resolver._read=type._read;break;case"abstract:long":case"long":resolver._read=function(tap){return tap.readLong()}}};DoubleType.prototype.typeName="double";DoubleType.prototype.random=function(){return RANDOM.nextFloat()};function StringType(){PrimitiveType.call(this)}util.inherits(StringType,PrimitiveType);StringType.prototype._check=function(val,flags,hook){var b=typeof val=="string";if(!b&&hook){hook(val,this)}return b};StringType.prototype._read=function(tap){return tap.readString()};StringType.prototype._skip=function(tap){tap.skipString()};StringType.prototype._write=function(tap,val){if(typeof val!="string"){throwInvalidError(val,this)}tap.writeString(val)};StringType.prototype._match=function(tap1,tap2){return tap1.matchString(tap2)};StringType.prototype._update=function(resolver,type){switch(type.typeName){case"bytes":case"string":resolver._read=this._read}};StringType.prototype.typeName="string";StringType.prototype.random=function(){return RANDOM.nextString(RANDOM.nextInt(32))};function BytesType(){PrimitiveType.call(this)}util.inherits(BytesType,PrimitiveType);BytesType.prototype._check=function(val,flags,hook){var b=Buffer.isBuffer(val);if(!b&&hook){hook(val,this)}return b};BytesType.prototype._read=function(tap){return tap.readBytes()};BytesType.prototype._skip=function(tap){tap.skipBytes()};BytesType.prototype._write=function(tap,val){if(!Buffer.isBuffer(val)){throwInvalidError(val,this)}tap.writeBytes(val)};BytesType.prototype._match=function(tap1,tap2){return tap1.matchBytes(tap2)};BytesType.prototype._update=StringType.prototype._update;BytesType.prototype._copy=function(obj,opts){var buf;switch((opts&&opts.coerce)|0){case 3:this._check(obj,undefined,throwInvalidError);return obj.toString("binary");case 2:if(typeof obj!="string"){throw new Error(f("cannot coerce to buffer: %j",obj))}buf=utils.bufferFrom(obj,"binary");this._check(buf,undefined,throwInvalidError);return buf;case 1:if(!isJsonBuffer(obj)){throw new Error(f("cannot coerce to buffer: %j",obj))}buf=utils.bufferFrom(obj.data);this._check(buf,undefined,throwInvalidError);return buf;default:this._check(obj,undefined,throwInvalidError);return utils.bufferFrom(obj)}};BytesType.prototype.compare=Buffer.compare;BytesType.prototype.typeName="bytes";BytesType.prototype.random=function(){return RANDOM.nextBuffer(RANDOM.nextInt(32))};function UnionType(schema,opts){Type.call(this);if(!Array.isArray(schema)){throw new Error(f("non-array union schema: %j",schema))}if(!schema.length){throw new Error("empty union")}this.types=Object.freeze(schema.map(function(obj){return Type.forSchema(obj,opts)}));this._branchIndices={};this.types.forEach(function(type,i){if(Type.isType(type,"union")){throw new Error("unions cannot be directly nested")}var branch=type.branchName;if(this._branchIndices[branch]!==undefined){throw new Error(f("duplicate union branch name: %j",branch))}this._branchIndices[branch]=i},this)}util.inherits(UnionType,Type);UnionType.prototype._branchConstructor=function(){throw new Error("unions cannot be directly wrapped")};UnionType.prototype._skip=function(tap){this.types[tap.readLong()]._skip(tap)};UnionType.prototype._match=function(tap1,tap2){var n1=tap1.readLong();var n2=tap2.readLong();if(n1===n2){return this.types[n1]._match(tap1,tap2)}else{return n1<n2?-1:1}};UnionType.prototype._deref=function(schema,opts){return this.types.map(function(t){return t._attrs(opts)})};UnionType.prototype.getTypes=function(){return this.types};function UnwrappedUnionType(schema,opts){UnionType.call(this,schema,opts);this._dynamicBranches=null;this._bucketIndices={};this.types.forEach(function(type,index){if(Type.isType(type,"abstract","logical")){if(!this._dynamicBranches){this._dynamicBranches=[]}this._dynamicBranches.push({index:index,type:type})}else{var bucket=getTypeBucket(type);if(this._bucketIndices[bucket]!==undefined){throw new Error(f("ambiguous unwrapped union: %j",this))}this._bucketIndices[bucket]=index}},this);Object.freeze(this)}util.inherits(UnwrappedUnionType,UnionType);UnwrappedUnionType.prototype._getIndex=function(val){var index=this._bucketIndices[getValueBucket(val)];if(this._dynamicBranches){index=this._getBranchIndex(val,index)}return index};UnwrappedUnionType.prototype._getBranchIndex=function(any,index){var logicalBranches=this._dynamicBranches;var i,l,branch;for(i=0,l=logicalBranches.length;i<l;i++){branch=logicalBranches[i];if(branch.type._check(any)){if(index===undefined){index=branch.index}else{throw new Error("ambiguous conversion")}}}return index};UnwrappedUnionType.prototype._check=function(val,flags,hook,path){var index=this._getIndex(val);var b=index!==undefined;if(b){return this.types[index]._check(val,flags,hook,path)}if(hook){hook(val,this)}return b};UnwrappedUnionType.prototype._read=function(tap){var index=tap.readLong();var branchType=this.types[index];if(branchType){return branchType._read(tap)}else{throw new Error(f("invalid union index: %s",index))}};UnwrappedUnionType.prototype._write=function(tap,val){var index=this._getIndex(val);if(index===undefined){throwInvalidError(val,this)}tap.writeLong(index);if(val!==null){this.types[index]._write(tap,val)}};UnwrappedUnionType.prototype._update=function(resolver,type,opts){var i,l,typeResolver;for(i=0,l=this.types.length;i<l;i++){try{typeResolver=this.types[i].createResolver(type,opts)}catch(err){continue}resolver._read=function(tap){return typeResolver._read(tap)};return}};UnwrappedUnionType.prototype._copy=function(val,opts){var coerce=opts&&opts.coerce|0;var wrap=opts&&opts.wrap|0;var index;if(wrap===2){index=0}else{switch(coerce){case 1:if(isJsonBuffer(val)&&this._bucketIndices.buffer!==undefined){index=this._bucketIndices.buffer}else{index=this._getIndex(val)}break;case 2:if(val===null){index=this._bucketIndices["null"]}else if(typeof val==="object"){var keys=Object.keys(val);if(keys.length===1){index=this._branchIndices[keys[0]];val=val[keys[0]]}}break;default:index=this._getIndex(val)}if(index===undefined){throwInvalidError(val,this)}}var type=this.types[index];if(val===null||wrap===3){return type._copy(val,opts)}else{switch(coerce){case 3:var obj={};obj[type.branchName]=type._copy(val,opts);return obj;default:return type._copy(val,opts)}}};UnwrappedUnionType.prototype.compare=function(val1,val2){var index1=this._getIndex(val1);var index2=this._getIndex(val2);if(index1===undefined){throwInvalidError(val1,this)}else if(index2===undefined){throwInvalidError(val2,this)}else if(index1===index2){return this.types[index1].compare(val1,val2)}else{return utils.compare(index1,index2)}};UnwrappedUnionType.prototype.typeName="union:unwrapped";UnwrappedUnionType.prototype.random=function(){var index=RANDOM.nextInt(this.types.length);return this.types[index].random()};function WrappedUnionType(schema,opts){UnionType.call(this,schema,opts);Object.freeze(this)}util.inherits(WrappedUnionType,UnionType);WrappedUnionType.prototype._check=function(val,flags,hook,path){var b=false;if(val===null){b=this._branchIndices["null"]!==undefined}else if(typeof val=="object"){var keys=Object.keys(val);if(keys.length===1){var name=keys[0];var index=this._branchIndices[name];if(index!==undefined){if(hook){path.push(name);b=this.types[index]._check(val[name],flags,hook,path);path.pop();return b}else{return this.types[index]._check(val[name],flags)}}}}if(!b&&hook){hook(val,this)}return b};WrappedUnionType.prototype._read=function(tap){var type=this.types[tap.readLong()];if(!type){throw new Error(f("invalid union index"))}var Branch=type._branchConstructor;if(Branch===null){return null}else{return new Branch(type._read(tap))}};WrappedUnionType.prototype._write=function(tap,val){var index,keys,name;if(val===null){index=this._branchIndices["null"];if(index===undefined){throwInvalidError(val,this)}tap.writeLong(index)}else{keys=Object.keys(val);if(keys.length===1){name=keys[0];index=this._branchIndices[name]}if(index===undefined){throwInvalidError(val,this)}tap.writeLong(index);this.types[index]._write(tap,val[name])}};WrappedUnionType.prototype._update=function(resolver,type,opts){var i,l,typeResolver,Branch;for(i=0,l=this.types.length;i<l;i++){try{typeResolver=this.types[i].createResolver(type,opts)}catch(err){continue}Branch=this.types[i]._branchConstructor;if(Branch){resolver._read=function(tap){return new Branch(typeResolver._read(tap))}}else{resolver._read=function(){return null}}return}};WrappedUnionType.prototype._copy=function(val,opts){var wrap=opts&&opts.wrap|0;if(wrap===2){var firstType=this.types[0];if(val===null&&firstType.typeName==="null"){return null}return new firstType._branchConstructor(firstType._copy(val,opts))}if(val===null&&this._branchIndices["null"]!==undefined){return null}var i,l,obj;if(typeof val=="object"){var keys=Object.keys(val);if(keys.length===1){var name=keys[0];i=this._branchIndices[name];if(i===undefined&&opts.qualifyNames){var j,type;for(j=0,l=this.types.length;j<l;j++){type=this.types[j];if(type.name&&name===utils.unqualify(type.name)){i=j;break}}}if(i!==undefined){obj=this.types[i]._copy(val[name],opts)}}}if(wrap===1&&obj===undefined){i=0;l=this.types.length;while(i<l&&obj===undefined){try{obj=this.types[i]._copy(val,opts)}catch(err){i++}}}if(obj!==undefined){return wrap===3?obj:new this.types[i]._branchConstructor(obj)}throwInvalidError(val,this)};WrappedUnionType.prototype.compare=function(val1,val2){var name1=val1===null?"null":Object.keys(val1)[0];var name2=val2===null?"null":Object.keys(val2)[0];var index=this._branchIndices[name1];if(name1===name2){return name1==="null"?0:this.types[index].compare(val1[name1],val2[name1])}else{return utils.compare(index,this._branchIndices[name2])}};WrappedUnionType.prototype.typeName="union:wrapped";WrappedUnionType.prototype.random=function(){var index=RANDOM.nextInt(this.types.length);var type=this.types[index];var Branch=type._branchConstructor;if(!Branch){return null}return new Branch(type.random())};function EnumType(schema,opts){Type.call(this,schema,opts);if(!Array.isArray(schema.symbols)||!schema.symbols.length){throw new Error(f("invalid enum symbols: %j",schema.symbols))}this.symbols=Object.freeze(schema.symbols.slice());this._indices={};this.symbols.forEach(function(symbol,i){if(!utils.isValidName(symbol)){throw new Error(f("invalid %s symbol: %j",this,symbol))}if(this._indices[symbol]!==undefined){throw new Error(f("duplicate %s symbol: %j",this,symbol))}this._indices[symbol]=i},this);this._branchConstructor=this._createBranchConstructor();Object.freeze(this)}util.inherits(EnumType,Type);EnumType.prototype._check=function(val,flags,hook){var b=this._indices[val]!==undefined;if(!b&&hook){hook(val,this)}return b};EnumType.prototype._read=function(tap){var index=tap.readLong();var symbol=this.symbols[index];if(symbol===undefined){throw new Error(f("invalid %s enum index: %s",this.name,index))}return symbol};EnumType.prototype._skip=function(tap){tap.skipLong()};EnumType.prototype._write=function(tap,val){var index=this._indices[val];if(index===undefined){throwInvalidError(val,this)}tap.writeLong(index)};EnumType.prototype._match=function(tap1,tap2){return tap1.matchLong(tap2)};EnumType.prototype.compare=function(val1,val2){return utils.compare(this._indices[val1],this._indices[val2])};EnumType.prototype._update=function(resolver,type){var symbols=this.symbols;if(type.typeName==="enum"&&(!type.name||~getAliases(this).indexOf(type.name))&&type.symbols.every(function(s){return~symbols.indexOf(s)})){resolver.symbols=type.symbols;resolver._read=type._read}};EnumType.prototype._copy=function(val){this._check(val,undefined,throwInvalidError);return val};EnumType.prototype._deref=function(schema){schema.symbols=this.symbols};EnumType.prototype.getSymbols=function(){return this.symbols};EnumType.prototype.typeName="enum";EnumType.prototype.random=function(){return RANDOM.choice(this.symbols)};function FixedType(schema,opts){Type.call(this,schema,opts);if(schema.size!==(schema.size|0)||schema.size<0){throw new Error(f("invalid %s size",this.branchName))}this.size=schema.size|0;this._branchConstructor=this._createBranchConstructor();Object.freeze(this)}util.inherits(FixedType,Type);FixedType.prototype._check=function(val,flags,hook){var b=Buffer.isBuffer(val)&&val.length===this.size;if(!b&&hook){hook(val,this)}return b};FixedType.prototype._read=function(tap){return tap.readFixed(this.size)};FixedType.prototype._skip=function(tap){tap.skipFixed(this.size)};FixedType.prototype._write=function(tap,val){if(!Buffer.isBuffer(val)||val.length!==this.size){throwInvalidError(val,this)}tap.writeFixed(val,this.size)};FixedType.prototype._match=function(tap1,tap2){return tap1.matchFixed(tap2,this.size)};FixedType.prototype.compare=Buffer.compare;FixedType.prototype._update=function(resolver,type){if(type.typeName==="fixed"&&this.size===type.size&&(!type.name||~getAliases(this).indexOf(type.name))){resolver.size=this.size;resolver._read=this._read}};FixedType.prototype._copy=BytesType.prototype._copy;FixedType.prototype._deref=function(schema){schema.size=this.size};FixedType.prototype.getSize=function(){return this.size};FixedType.prototype.typeName="fixed";FixedType.prototype.random=function(){return RANDOM.nextBuffer(this.size)};function MapType(schema,opts){Type.call(this);if(!schema.values){throw new Error(f("missing map values: %j",schema))}this.valuesType=Type.forSchema(schema.values,opts);this._branchConstructor=this._createBranchConstructor();Object.freeze(this)}util.inherits(MapType,Type);MapType.prototype._check=function(val,flags,hook,path){if(!val||typeof val!="object"||Array.isArray(val)){if(hook){hook(val,this)}return false}var keys=Object.keys(val);var b=true;var i,l,j,key;if(hook){j=path.length;path.push("");for(i=0,l=keys.length;i<l;i++){key=path[j]=keys[i];if(!this.valuesType._check(val[key],flags,hook,path)){b=false}}path.pop()}else{for(i=0,l=keys.length;i<l;i++){if(!this.valuesType._check(val[keys[i]],flags)){return false}}}return b};MapType.prototype._read=function(tap){var values=this.valuesType;var val={};var n;while(n=readArraySize(tap)){while(n--){var key=tap.readString();val[key]=values._read(tap)}}return val};MapType.prototype._skip=function(tap){var values=this.valuesType;var len,n;while(n=tap.readLong()){if(n<0){len=tap.readLong();tap.pos+=len}else{while(n--){tap.skipString();values._skip(tap)}}}};MapType.prototype._write=function(tap,val){if(!val||typeof val!="object"||Array.isArray(val)){throwInvalidError(val,this)}var values=this.valuesType;var keys=Object.keys(val);var n=keys.length;var i,key;if(n){tap.writeLong(n);for(i=0;i<n;i++){key=keys[i];tap.writeString(key);values._write(tap,val[key])}}tap.writeLong(0)};MapType.prototype._match=function(){throw new Error("maps cannot be compared")};MapType.prototype._update=function(rsv,type,opts){if(type.typeName==="map"){rsv.valuesType=this.valuesType.createResolver(type.valuesType,opts);rsv._read=this._read}};MapType.prototype._copy=function(val,opts){if(val&&typeof val=="object"&&!Array.isArray(val)){var values=this.valuesType;var keys=Object.keys(val);var i,l,key;var copy={};for(i=0,l=keys.length;i<l;i++){key=keys[i];copy[key]=values._copy(val[key],opts)}return copy}throwInvalidError(val,this)};MapType.prototype.compare=MapType.prototype._match;MapType.prototype.typeName="map";MapType.prototype.getValuesType=function(){return this.valuesType};MapType.prototype.random=function(){var val={};var i,l;for(i=0,l=RANDOM.nextInt(10);i<l;i++){val[RANDOM.nextString(RANDOM.nextInt(20))]=this.valuesType.random()}return val};MapType.prototype._deref=function(schema,opts){schema.values=this.valuesType._attrs(opts)};function ArrayType(schema,opts){Type.call(this);if(!schema.items){throw new Error(f("missing array items: %j",schema))}this.itemsType=Type.forSchema(schema.items,opts);this._branchConstructor=this._createBranchConstructor();Object.freeze(this)}util.inherits(ArrayType,Type);ArrayType.prototype._check=function(val,flags,hook,path){if(!Array.isArray(val)){if(hook){hook(val,this)}return false}var b=true;var i,l,j;if(hook){j=path.length;path.push("");for(i=0,l=val.length;i<l;i++){path[j]=""+i;if(!this.itemsType._check(val[i],flags,hook,path)){b=false}}path.pop()}else{for(i=0,l=val.length;i<l;i++){if(!this.itemsType._check(val[i],flags)){return false}}}return b};ArrayType.prototype._read=function(tap){var items=this.itemsType;var val=[];var n;while(n=tap.readLong()){if(n<0){n=-n;tap.skipLong()}while(n--){val.push(items._read(tap))}}return val};ArrayType.prototype._skip=function(tap){var len,n;while(n=tap.readLong()){if(n<0){len=tap.readLong();tap.pos+=len}else{while(n--){this.itemsType._skip(tap)}}}};ArrayType.prototype._write=function(tap,val){if(!Array.isArray(val)){throwInvalidError(val,this)}var n=val.length;var i;if(n){tap.writeLong(n);for(i=0;i<n;i++){this.itemsType._write(tap,val[i])}}tap.writeLong(0)};ArrayType.prototype._match=function(tap1,tap2){var n1=tap1.readLong();var n2=tap2.readLong();var f;while(n1&&n2){f=this.itemsType._match(tap1,tap2);if(f){return f}if(!--n1){n1=readArraySize(tap1)}if(!--n2){n2=readArraySize(tap2)}}return utils.compare(n1,n2)};ArrayType.prototype._update=function(resolver,type,opts){if(type.typeName==="array"){resolver.itemsType=this.itemsType.createResolver(type.itemsType,opts);resolver._read=this._read}};ArrayType.prototype._copy=function(val,opts){if(!Array.isArray(val)){throwInvalidError(val,this)}var items=new Array(val.length);var i,l;for(i=0,l=val.length;i<l;i++){items[i]=this.itemsType._copy(val[i],opts)}return items};ArrayType.prototype._deref=function(schema,opts){schema.items=this.itemsType._attrs(opts)};ArrayType.prototype.compare=function(val1,val2){var n1=val1.length;var n2=val2.length;var i,l,f;for(i=0,l=Math.min(n1,n2);i<l;i++){if(f=this.itemsType.compare(val1[i],val2[i])){return f}}return utils.compare(n1,n2)};ArrayType.prototype.getItemsType=function(){return this.itemsType};ArrayType.prototype.typeName="array";ArrayType.prototype.random=function(){var arr=[];var i,l;for(i=0,l=RANDOM.nextInt(10);i<l;i++){arr.push(this.itemsType.random())}return arr};function RecordType(schema,opts){opts=opts||{};var namespace=opts.namespace;if(schema.namespace!==undefined){opts.namespace=schema.namespace}else if(schema.name){var ns=utils.impliedNamespace(schema.name);if(ns!==undefined){opts.namespace=ns}}Type.call(this,schema,opts);if(!Array.isArray(schema.fields)){throw new Error(f("non-array record fields: %j",schema.fields))}if(utils.hasDuplicates(schema.fields,function(f){return f.name})){throw new Error(f("duplicate field name: %j",schema.fields))}this._fieldsByName={};this.fields=Object.freeze(schema.fields.map(function(f){var field=new Field(f,opts);this._fieldsByName[field.name]=field;return field},this));this._branchConstructor=this._createBranchConstructor();this._isError=schema.type==="error";this.recordConstructor=this._createConstructor(opts.errorStackTraces,opts.omitRecordMethods);this._read=this._createReader();this._skip=this._createSkipper();this._write=this._createWriter();this._check=this._createChecker();opts.namespace=namespace;Object.freeze(this)}util.inherits(RecordType,Type);RecordType.prototype._getConstructorName=function(){return this.name?utils.capitalize(utils.unqualify(this.name)):this._isError?"Error$":"Record$"};RecordType.prototype._createConstructor=function(errorStack,plainRecords){var outerArgs=[];var innerArgs=[];var ds=[];var innerBody="";var i,l,field,name,defaultValue,hasDefault,stackField;for(i=0,l=this.fields.length;i<l;i++){field=this.fields[i];defaultValue=field.defaultValue;hasDefault=defaultValue()!==undefined;name=field.name;if(errorStack&&this._isError&&name==="stack"&&Type.isType(field.type,"string")&&!hasDefault){stackField=field}innerArgs.push("v"+i);innerBody+="  ";if(!hasDefault){innerBody+="this."+name+" = v"+i+";\n"}else{innerBody+="if (v"+i+" === undefined) { ";innerBody+="this."+name+" = d"+ds.length+"(); ";innerBody+="} else { this."+name+" = v"+i+"; }\n";outerArgs.push("d"+ds.length);ds.push(defaultValue)}}if(stackField){innerBody+="  if (this.stack === undefined) { ";if(typeof Error.captureStackTrace=="function"){innerBody+="Error.captureStackTrace(this, this.constructor);"}else{innerBody+="this.stack = Error().stack;"}innerBody+=" }\n"}var outerBody="return function "+this._getConstructorName()+"(";outerBody+=innerArgs.join()+") {\n"+innerBody+"};";var Record=new Function(outerArgs.join(),outerBody).apply(undefined,ds);if(plainRecords){return Record}var self=this;Record.getType=function(){return self};Record.type=self;if(this._isError){util.inherits(Record,Error);Record.prototype.name=this._getConstructorName()}Record.prototype.clone=function(o){return self.clone(this,o)};Record.prototype.compare=function(v){return self.compare(this,v)};Record.prototype.isValid=function(o){return self.isValid(this,o)};Record.prototype.toBuffer=function(){return self.toBuffer(this)};Record.prototype.toString=function(){return self.toString(this)};Record.prototype.wrap=function(){return self.wrap(this)};Record.prototype.wrapped=Record.prototype.wrap;return Record};RecordType.prototype._createChecker=function(){var names=[];var values=[];var name=this._getConstructorName();var body="return function check"+name+"(v, f, h, p) {\n";body+="  if (\n";body+="    v === null ||\n";body+="    typeof v != 'object' ||\n";body+="    (f && !this._checkFields(v))\n";body+="  ) {\n";body+="    if (h) { h(v, this); }\n";body+="    return false;\n";body+="  }\n";if(!this.fields.length){body+="  return true;\n"}else{for(i=0,l=this.fields.length;i<l;i++){field=this.fields[i];names.push("t"+i);values.push(field.type);if(field.defaultValue()!==undefined){body+="  var v"+i+" = v."+field.name+";\n"}}body+="  if (h) {\n";body+="    var b = 1;\n";body+="    var j = p.length;\n";body+="    p.push('');\n";var i,l,field;for(i=0,l=this.fields.length;i<l;i++){field=this.fields[i];body+="    p[j] = '"+field.name+"';\n";body+="    b &= ";if(field.defaultValue()===undefined){body+="t"+i+"._check(v."+field.name+", f, h, p);\n"}else{body+="v"+i+" === undefined || ";body+="t"+i+"._check(v"+i+", f, h, p);\n"}}body+="    p.pop();\n";body+="    return !!b;\n";body+="  } else {\n    return (\n      ";body+=this.fields.map(function(field,i){return field.defaultValue()===undefined?"t"+i+"._check(v."+field.name+", f)":"(v"+i+" === undefined || t"+i+"._check(v"+i+", f))"}).join(" &&\n      ");body+="\n    );\n  }\n"}body+="};";return new Function(names.join(),body).apply(undefined,values)};RecordType.prototype._createReader=function(){var names=[];var values=[this.recordConstructor];var i,l;for(i=0,l=this.fields.length;i<l;i++){names.push("t"+i);values.push(this.fields[i].type)}var name=this._getConstructorName();var body="return function read"+name+"(t) {\n";body+="  return new "+name+"(\n    ";body+=names.map(function(s){return s+"._read(t)"}).join(",\n    ");body+="\n  );\n};";names.unshift(name);return new Function(names.join(),body).apply(undefined,values)};RecordType.prototype._createSkipper=function(){var args=[];var body="return function skip"+this._getConstructorName()+"(t) {\n";var values=[];var i,l;for(i=0,l=this.fields.length;i<l;i++){args.push("t"+i);values.push(this.fields[i].type);body+="  t"+i+"._skip(t);\n"}body+="}";return new Function(args.join(),body).apply(undefined,values)};RecordType.prototype._createWriter=function(){var args=[];var name=this._getConstructorName();var body="return function write"+name+"(t, v) {\n";var values=[];var i,l,field,value;for(i=0,l=this.fields.length;i<l;i++){field=this.fields[i];args.push("t"+i);values.push(field.type);body+="  ";if(field.defaultValue()===undefined){body+="t"+i+"._write(t, v."+field.name+");\n"}else{value=field.type.toBuffer(field.defaultValue()).toString("binary");args.push("d"+i);values.push(value);body+="var v"+i+" = v."+field.name+";\n";body+="if (v"+i+" === undefined) {\n";body+="    t.writeBinary(d"+i+", "+value.length+");\n";body+="  } else {\n    t"+i+"._write(t, v"+i+");\n  }\n"}}body+="}";return new Function(args.join(),body).apply(undefined,values)};RecordType.prototype._update=function(resolver,type,opts){if(type.name&&!~getAliases(this).indexOf(type.name)){throw new Error(f("no alias found for %s",type.name))}var rFields=this.fields;var wFields=type.fields;var wFieldsMap=utils.toMap(wFields,function(f){return f.name});var innerArgs=[];var resolvers={};var i,j,field,name,names,matches,fieldResolver;for(i=0;i<rFields.length;i++){field=rFields[i];names=getAliases(field);matches=[];for(j=0;j<names.length;j++){name=names[j];if(wFieldsMap[name]){matches.push(name)}}if(matches.length>1){throw new Error(f("ambiguous aliasing for %s.%s (%s)",type.name,field.name,matches))}if(!matches.length){if(field.defaultValue()===undefined){throw new Error(f("no matching field for default-less %s.%s",type.name,field.name))}innerArgs.push("undefined")}else{name=matches[0];fieldResolver={resolver:field.type.createResolver(wFieldsMap[name].type,opts),name:"_"+field.name};if(!resolvers[name]){resolvers[name]=[fieldResolver]}else{resolvers[name].push(fieldResolver)}innerArgs.push(fieldResolver.name)}}var lazyIndex=-1;i=wFields.length;while(i&&resolvers[wFields[--i].name]===undefined){lazyIndex=i}var uname=this._getConstructorName();var args=[uname];var values=[this.recordConstructor];var body="  return function read"+uname+"(t, b) {\n";for(i=0;i<wFields.length;i++){if(i===lazyIndex){body+="  if (!b) {\n"}field=type.fields[i];name=field.name;if(resolvers[name]===undefined){body+=~lazyIndex&&i>=lazyIndex?"    ":"  ";args.push("r"+i);values.push(field.type);body+="r"+i+"._skip(t);\n"}else{j=resolvers[name].length;while(j--){body+=~lazyIndex&&i>=lazyIndex?"    ":"  ";args.push("r"+i+"f"+j);fieldResolver=resolvers[name][j];values.push(fieldResolver.resolver);body+="var "+fieldResolver.name+" = ";body+="r"+i+"f"+j+"._"+(j?"peek":"read")+"(t);\n"}}}if(~lazyIndex){body+="  }\n"}body+="  return new "+uname+"("+innerArgs.join()+");\n};";resolver._read=new Function(args.join(),body).apply(undefined,values)};RecordType.prototype._match=function(tap1,tap2){var fields=this.fields;var i,l,field,order,type;for(i=0,l=fields.length;i<l;i++){field=fields[i];order=field._order;type=field.type;if(order){order*=type._match(tap1,tap2);if(order){return order}}else{type._skip(tap1);type._skip(tap2)}}return 0};RecordType.prototype._checkFields=function(obj){var keys=Object.keys(obj);var i,l;for(i=0,l=keys.length;i<l;i++){if(!this._fieldsByName[keys[i]]){return false}}return true};RecordType.prototype._copy=function(val,opts){var hook=opts&&opts.fieldHook;var values=[undefined];var i,l,field,value;for(i=0,l=this.fields.length;i<l;i++){field=this.fields[i];value=val[field.name];if(value===undefined&&field.hasOwnProperty("defaultValue")){value=field.defaultValue()}if(opts&&!opts.skip||value!==undefined){value=field.type._copy(value,opts)}if(hook){value=hook(field,value,this)}values.push(value)}var Record=this.recordConstructor;return new(Record.bind.apply(Record,values))};RecordType.prototype._deref=function(schema,opts){schema.fields=this.fields.map(function(field){var fieldType=field.type;var fieldSchema={name:field.name,type:fieldType._attrs(opts)};if(opts.exportAttrs){var val=field.defaultValue();if(val!==undefined){fieldSchema["default"]=fieldType._copy(val,{coerce:3,wrap:3})}var fieldOrder=field.order;if(fieldOrder!=="ascending"){fieldSchema.order=fieldOrder}var fieldAliases=field.aliases;if(fieldAliases.length){fieldSchema.aliases=fieldAliases}var fieldDoc=field.doc;if(fieldDoc!==undefined){fieldSchema.doc=fieldDoc}}return fieldSchema})};RecordType.prototype.compare=function(val1,val2){var fields=this.fields;var i,l,field,name,order,type;for(i=0,l=fields.length;i<l;i++){field=fields[i];name=field.name;order=field._order;type=field.type;if(order){order*=type.compare(val1[name],val2[name]);if(order){return order}}}return 0};RecordType.prototype.random=function(){var fields=this.fields.map(function(f){return f.type.random()});fields.unshift(undefined);var Record=this.recordConstructor;return new(Record.bind.apply(Record,fields))};RecordType.prototype.field=function(name){return this._fieldsByName[name]};RecordType.prototype.getField=RecordType.prototype.field;RecordType.prototype.getFields=function(){return this.fields};RecordType.prototype.getRecordConstructor=function(){return this.recordConstructor};Object.defineProperty(RecordType.prototype,"typeName",{enumerable:true,get:function(){return this._isError?"error":"record"}});function LogicalType(schema,opts){this._logicalTypeName=schema.logicalType;Type.call(this);LOGICAL_TYPE=this;try{this._underlyingType=Type.forSchema(schema,opts)}finally{LOGICAL_TYPE=null;var l=UNDERLYING_TYPES.length;if(l&&UNDERLYING_TYPES[l-1][0]===this){UNDERLYING_TYPES.pop()}}if(Type.isType(this.underlyingType,"union")){this._branchConstructor=this.underlyingType._branchConstructor}else{this._branchConstructor=this.underlyingType._createBranchConstructor()}}util.inherits(LogicalType,Type);Object.defineProperty(LogicalType.prototype,"typeName",{enumerable:true,get:function(){return"logical:"+this._logicalTypeName}});Object.defineProperty(LogicalType.prototype,"underlyingType",{enumerable:true,get:function(){if(this._underlyingType){return this._underlyingType}var i,l,arr;for(i=0,l=UNDERLYING_TYPES.length;i<l;i++){arr=UNDERLYING_TYPES[i];if(arr[0]===this){return arr[1]}}}});LogicalType.prototype.getUnderlyingType=function(){return this.underlyingType};LogicalType.prototype._read=function(tap){return this._fromValue(this.underlyingType._read(tap))};LogicalType.prototype._write=function(tap,any){this.underlyingType._write(tap,this._toValue(any))};LogicalType.prototype._check=function(any,flags,hook,path){try{var val=this._toValue(any)}catch(err){}if(val===undefined){if(hook){hook(any,this)}return false}return this.underlyingType._check(val,flags,hook,path)};LogicalType.prototype._copy=function(any,opts){var type=this.underlyingType;switch(opts&&opts.coerce){case 3:return type._copy(this._toValue(any),opts);case 2:return this._fromValue(type._copy(any,opts));default:return this._fromValue(type._copy(this._toValue(any),opts))}};LogicalType.prototype._update=function(resolver,type,opts){var _fromValue=this._resolve(type,opts);if(_fromValue){resolver._read=function(tap){return _fromValue(type._read(tap))}}};LogicalType.prototype.compare=function(obj1,obj2){var val1=this._toValue(obj1);var val2=this._toValue(obj2);return this.underlyingType.compare(val1,val2)};LogicalType.prototype.random=function(){return this._fromValue(this.underlyingType.random())};LogicalType.prototype._deref=function(schema,opts){var type=this.underlyingType;var isVisited=type.name!==undefined&&opts.derefed[type.name];schema=type._attrs(opts);if(!isVisited&&opts.exportAttrs){if(typeof schema=="string"){schema={type:schema}}schema.logicalType=this._logicalTypeName;this._export(schema)}return schema};LogicalType.prototype._skip=function(tap){this.underlyingType._skip(tap)};LogicalType.prototype._export=function(){};LogicalType.prototype._fromValue=utils.abstractFunction;LogicalType.prototype._toValue=utils.abstractFunction;LogicalType.prototype._resolve=utils.abstractFunction;function AbstractLongType(noUnpack){this._concreteTypeName="long";PrimitiveType.call(this,true);this._noUnpack=!!noUnpack}util.inherits(AbstractLongType,LongType);AbstractLongType.prototype.typeName="abstract:long";AbstractLongType.prototype._check=function(val,flags,hook){var b=this._isValid(val);if(!b&&hook){hook(val,this)}return b};AbstractLongType.prototype._read=function(tap){var buf,pos;if(this._noUnpack){pos=tap.pos;tap.skipLong();buf=tap.buf.slice(pos,tap.pos)}else{buf=tap.unpackLongBytes(tap)}if(tap.isValid()){return this._fromBuffer(buf)}};AbstractLongType.prototype._write=function(tap,val){if(!this._isValid(val)){throwInvalidError(val,this)}var buf=this._toBuffer(val);if(this._noUnpack){tap.writeFixed(buf)}else{tap.packLongBytes(buf)}};AbstractLongType.prototype._copy=function(val,opts){switch(opts&&opts.coerce){case 3:return this._toJSON(val);case 2:return this._fromJSON(val);default:return this._fromJSON(this._toJSON(val))}};AbstractLongType.prototype._deref=function(){return"long"};AbstractLongType.prototype._update=function(resolver,type){var self=this;switch(type.typeName){case"int":resolver._read=function(tap){return self._fromJSON(type._read(tap))};break;case"abstract:long":case"long":resolver._read=function(tap){return self._read(tap)}}};AbstractLongType.prototype.random=function(){return this._fromJSON(LongType.prototype.random())};AbstractLongType.prototype._fromBuffer=utils.abstractFunction;AbstractLongType.prototype._toBuffer=utils.abstractFunction;AbstractLongType.prototype._fromJSON=utils.abstractFunction;AbstractLongType.prototype._toJSON=utils.abstractFunction;AbstractLongType.prototype._isValid=utils.abstractFunction;AbstractLongType.prototype.compare=utils.abstractFunction;function Field(schema,opts){var name=schema.name;if(typeof name!="string"||!utils.isValidName(name)){throw new Error(f("invalid field name: %s",name))}this.name=name;this.type=Type.forSchema(schema.type,opts);this.aliases=schema.aliases||[];this.doc=schema.doc!==undefined?""+schema.doc:undefined;this._order=function(order){switch(order){case"ascending":return 1;case"descending":return-1;case"ignore":return 0;default:throw new Error(f("invalid order: %j",order))}}(schema.order===undefined?"ascending":schema.order);var value=schema["default"];if(value!==undefined){var type=this.type;var val=type._copy(value,{coerce:2,wrap:2});if(isPrimitive(type.typeName)&&type.typeName!=="bytes"){this.defaultValue=function(){return val}}else{this.defaultValue=function(){return type._copy(val)}}}Object.freeze(this)}Field.prototype.defaultValue=function(){};Object.defineProperty(Field.prototype,"order",{enumerable:true,get:function(){return["descending","ignore","ascending"][this._order+1]}});Field.prototype.getAliases=function(){return this.aliases};Field.prototype.getDefault=Field.prototype.defaultValue;Field.prototype.getName=function(){return this.name};Field.prototype.getOrder=function(){return this.order};Field.prototype.getType=function(){return this.type};function Resolver(readerType){this._readerType=readerType;this._read=null;this.itemsType=null;this.size=0;this.symbols=null;this.valuesType=null}Resolver.prototype._peek=Type.prototype._peek;Resolver.prototype.inspect=function(){return"<Resolver>"};function Hash(){this.str=undefined}function readValue(type,tap,resolver,lazy){if(resolver){if(resolver._readerType!==type){throw new Error("invalid resolver")}return resolver._read(tap,lazy)}else{return type._read(tap)}}function getAliases(obj){var names={};if(obj.name){names[obj.name]=true}var aliases=obj.aliases;var i,l;for(i=0,l=aliases.length;i<l;i++){names[aliases[i]]=true}return Object.keys(names)}function isPrimitive(typeName){var type=TYPES[typeName];return type&&type.prototype instanceof PrimitiveType}function getClassName(typeName){if(typeName==="error"){typeName="record"}else{var match=/^([^:]+):(.*)$/.exec(typeName);if(match){if(match[1]==="union"){typeName=match[2]+"Union"}else{typeName=match[1]}}}return utils.capitalize(typeName)+"Type"}function readArraySize(tap){var n=tap.readLong();if(n<0){n=-n;tap.skipLong()}return n}function isSafeLong(n){return n>=-9007199254740990&&n<=9007199254740990}function isJsonBuffer(obj){return obj&&obj.type==="Buffer"&&Array.isArray(obj.data)}function throwInvalidError(val,type){throw new Error(f("invalid %j: %j",type.schema(),val))}function maybeQualify(name,ns){var unqualified=utils.unqualify(name);return isPrimitive(unqualified)?unqualified:utils.qualify(name,ns)}function getTypeBucket(type){var typeName=type.typeName;switch(typeName){case"double":case"float":case"int":case"long":return"number";case"bytes":case"fixed":return"buffer";case"enum":return"string";case"map":case"error":case"record":return"object";default:return typeName}}function getValueBucket(val){if(val===null){return"null"}var bucket=typeof val;if(bucket==="object"){if(Array.isArray(val)){return"array"}else if(Buffer.isBuffer(val)){return"buffer"}}return bucket}function isAmbiguous(types){var buckets={};var i,l,bucket,type;for(i=0,l=types.length;i<l;i++){type=types[i];if(!Type.isType(type,"logical")){bucket=getTypeBucket(type);if(buckets[bucket]){return true}buckets[bucket]=true}}return false}function combineNumbers(types){var typeNames=["int","long","float","double"];var superIndex=-1;var superType=null;var i,l,type,index;for(i=0,l=types.length;i<l;i++){type=types[i];index=typeNames.indexOf(type.typeName);if(index>superIndex){superIndex=index;superType=type}}return superType}function combineStrings(types,opts){var symbols={};var i,l,type,typeSymbols;for(i=0,l=types.length;i<l;i++){type=types[i];if(type.typeName==="string"){return type}typeSymbols=type.symbols;var j,m;for(j=0,m=typeSymbols.length;j<m;j++){symbols[typeSymbols[j]]=true}}return Type.forSchema({type:"enum",symbols:Object.keys(symbols)},opts)}function combineBuffers(types,opts){var size=-1;var i,l,type;for(i=0,l=types.length;i<l;i++){type=types[i];if(type.typeName==="bytes"){return type}if(size===-1){size=type.size}else if(type.size!==size){size=-2}}return size<0?Type.forSchema("bytes",opts):types[0]}function combineObjects(types,opts){var allTypes=[];var fieldTypes={};var fieldDefaults={};var isValidRecord=true;var i,l,type,fields;for(i=0,l=types.length;i<l;i++){type=types[i];if(type.typeName==="map"){isValidRecord=false;allTypes.push(type.valuesType)}else{fields=type.fields;var j,m,field,fieldDefault,fieldName,fieldType;for(j=0,m=fields.length;j<m;j++){field=fields[j];fieldName=field.name;fieldType=field.type;allTypes.push(fieldType);if(isValidRecord){if(!fieldTypes[fieldName]){fieldTypes[fieldName]=[]}fieldTypes[fieldName].push(fieldType);fieldDefault=field.defaultValue();if(fieldDefault!==undefined){fieldDefaults[fieldName]=fieldDefault}}}}}if(isValidRecord){var fieldNames=Object.keys(fieldTypes);for(i=0,l=fieldNames.length;i<l;i++){fieldName=fieldNames[i];if(fieldTypes[fieldName].length<types.length&&fieldDefaults[fieldName]===undefined){if(opts&&opts.strictDefaults){isValidRecord=false}else{fieldTypes[fieldName].unshift(Type.forSchema("null",opts));fieldDefaults[fieldName]=null}}}}var schema;if(isValidRecord){schema={type:"record",fields:fieldNames.map(function(s){var fieldType=Type.forTypes(fieldTypes[s],opts);var fieldDefault=fieldDefaults[s];if(fieldDefault!==undefined&&~fieldType.typeName.indexOf("union")){var unionTypes=fieldType.types.slice();var i,l;for(i=0,l=unionTypes.length;i<l;i++){if(unionTypes[i].isValid(fieldDefault)){break}}if(i>0){var unionType=unionTypes[0];unionTypes[0]=unionTypes[i];unionTypes[i]=unionType;fieldType=Type.forSchema(unionTypes,opts)}}return{name:s,type:fieldType,default:fieldDefaults[s]}})}}else{schema={type:"map",values:Type.forTypes(allTypes,opts)}}return Type.forSchema(schema,opts)}module.exports={Type:Type,getTypeBucket:getTypeBucket,getValueBucket:getValueBucket,isPrimitive:isPrimitive,builtins:function(){var types={LogicalType:LogicalType,UnwrappedUnionType:UnwrappedUnionType,WrappedUnionType:WrappedUnionType};var typeNames=Object.keys(TYPES);var i,l,typeName;for(i=0,l=typeNames.length;i<l;i++){typeName=typeNames[i];types[getClassName(typeName)]=TYPES[typeName]}return types}()}}).call(this)}).call(this,require("buffer").Buffer)},{"./utils":4,buffer:8,util:28}],4:[function(require,module,exports){(function(Buffer){(function(){"use strict";var crypto=require("crypto");var util=require("util");var POOL=new BufferPool(4096);var NAME_PATTERN=/^[A-Za-z_][A-Za-z0-9_]*$/;var f=util.format;function newBuffer(size){if(typeof Buffer.alloc=="function"){return Buffer.alloc(size)}else{return new Buffer(size)}}function bufferFrom(data,enc){if(typeof Buffer.from=="function"){return Buffer.from(data,enc)}else{return new Buffer(data,enc)}}function capitalize(s){return s.charAt(0).toUpperCase()+s.slice(1)}function compare(n1,n2){return n1===n2?0:n1<n2?-1:1}function getOption(opts,key,def){var value=opts[key];return value===undefined?def:value}function getHash(str,algorithm){algorithm=algorithm||"md5";var hash=crypto.createHash(algorithm);hash.end(str);return hash.read()}function singleIndexOf(arr,v){var pos=-1;var i,l;if(!arr){return-1}for(i=0,l=arr.length;i<l;i++){if(arr[i]===v){if(pos>=0){return-2}pos=i}}return pos}function toMap(arr,fn){var obj={};var i,elem;for(i=0;i<arr.length;i++){elem=arr[i];obj[fn(elem)]=elem}return obj}function objectValues(obj){return Object.keys(obj).map(function(key){return obj[key]})}function hasDuplicates(arr,fn){var obj=Object.create(null);var i,l,elem;for(i=0,l=arr.length;i<l;i++){elem=arr[i];if(fn){elem=fn(elem)}if(obj[elem]){return true}obj[elem]=true}return false}function copyOwnProperties(src,dst,overwrite){var names=Object.getOwnPropertyNames(src);var i,l,name;for(i=0,l=names.length;i<l;i++){name=names[i];if(!dst.hasOwnProperty(name)||overwrite){var descriptor=Object.getOwnPropertyDescriptor(src,name);Object.defineProperty(dst,name,descriptor)}}return dst}function isValidName(str){return NAME_PATTERN.test(str)}function qualify(name,namespace){if(~name.indexOf(".")){name=name.replace(/^\./,"")}else if(namespace){name=namespace+"."+name}name.split(".").forEach(function(part){if(!isValidName(part)){throw new Error(f("invalid name: %j",name))}});return name}function unqualify(name){var parts=name.split(".");return parts[parts.length-1]}function impliedNamespace(name){var match=/^(.*)\.[^.]+$/.exec(name);return match?match[1]:undefined}function jsonEnd(str,pos){pos=pos|0;var c=str.charAt(pos++);if(/[\d-]/.test(c)){while(/[eE\d.+-]/.test(str.charAt(pos))){pos++}return pos}else if(/true|null/.test(str.slice(pos-1,pos+3))){return pos+3}else if(/false/.test(str.slice(pos-1,pos+4))){return pos+4}var depth=0;var literal=false;do{switch(c){case"{":case"[":if(!literal){depth++}break;case"}":case"]":if(!literal&&!--depth){return pos}break;case'"':literal=!literal;if(!depth&&!literal){return pos}break;case"\\":pos++}}while(c=str.charAt(pos++));return-1}function abstractFunction(){throw new Error("abstract")}function addDeprecatedGetters(obj,props){var proto=obj.prototype;var i,l,prop,getter;for(i=0,l=props.length;i<l;i++){prop=props[i];getter="get"+capitalize(prop);proto[getter]=util.deprecate(createGetter(prop),"use `."+prop+"` instead of `."+getter+"()`")}function createGetter(prop){return function(){var delegate=this[prop];return typeof delegate=="function"?delegate.apply(this,arguments):delegate}}}function BufferPool(len){this._len=len|0;this._pos=0;this._slab=newBuffer(this._len)}BufferPool.prototype.alloc=function(len){if(len<0){throw new Error("negative length")}var maxLen=this._len;if(len>maxLen){return newBuffer(len)}if(this._pos+len>maxLen){this._slab=newBuffer(maxLen);this._pos=0}return this._slab.slice(this._pos,this._pos+=len)};function Lcg(seed){var a=1103515245;var c=12345;var m=Math.pow(2,31);var state=Math.floor(seed||Math.random()*(m-1));this._max=m;this._nextInt=function(){return state=(a*state+c)%m}}Lcg.prototype.nextBoolean=function(){return!!(this._nextInt()%2)};Lcg.prototype.nextInt=function(start,end){if(end===undefined){end=start;start=0}end=end===undefined?this._max:end;return start+Math.floor(this.nextFloat()*(end-start))};Lcg.prototype.nextFloat=function(start,end){if(end===undefined){end=start;start=0}end=end===undefined?1:end;return start+(end-start)*this._nextInt()/this._max};Lcg.prototype.nextString=function(len,flags){len|=0;flags=flags||"aA";var mask="";if(flags.indexOf("a")>-1){mask+="abcdefghijklmnopqrstuvwxyz"}if(flags.indexOf("A")>-1){mask+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"}if(flags.indexOf("#")>-1){mask+="0123456789"}if(flags.indexOf("!")>-1){mask+="~`!@#$%^&*()_+-={}[]:\";'<>?,./|\\"}var result=[];for(var i=0;i<len;i++){result.push(this.choice(mask))}return result.join("")};Lcg.prototype.nextBuffer=function(len){var arr=[];var i;for(i=0;i<len;i++){arr.push(this.nextInt(256))}return bufferFrom(arr)};Lcg.prototype.choice=function(arr){var len=arr.length;if(!len){throw new Error("choosing from empty array")}return arr[this.nextInt(len)]};function OrderedQueue(){this._index=0;this._items=[]}OrderedQueue.prototype.push=function(item){var items=this._items;var i=items.length|0;var j;items.push(item);while(i>0&&items[i].index<items[j=i-1>>1].index){item=items[i];items[i]=items[j];items[j]=item;i=j}};OrderedQueue.prototype.pop=function(){var items=this._items;var len=items.length-1|0;var first=items[0];if(!first||first.index>this._index){return null}this._index++;if(!len){items.pop();return first}items[0]=items.pop();var mid=len>>1;var i=0;var i1,i2,j,item,c,c1,c2;while(i<mid){item=items[i];i1=(i<<1)+1;i2=i+1<<1;c1=items[i1];c2=items[i2];if(!c2||c1.index<=c2.index){c=c1;j=i1}else{c=c2;j=i2}if(c.index>=item.index){break}items[j]=item;items[i]=c;i=j}return first};function Tap(buf,pos){this.buf=buf;this.pos=pos|0;if(this.pos<0){throw new Error("negative offset")}}Tap.prototype.isValid=function(){return this.pos<=this.buf.length};Tap.prototype._invalidate=function(){this.pos=this.buf.length+1};Tap.prototype.readBoolean=function(){return!!this.buf[this.pos++]};Tap.prototype.skipBoolean=function(){this.pos++};Tap.prototype.writeBoolean=function(b){this.buf[this.pos++]=!!b};Tap.prototype.readInt=Tap.prototype.readLong=function(){var n=0;var k=0;var buf=this.buf;var b,h,f,fk;do{b=buf[this.pos++];h=b&128;n|=(b&127)<<k;k+=7}while(h&&k<28);if(h){f=n;fk=268435456;do{b=buf[this.pos++];f+=(b&127)*fk;fk*=128}while(b&128);return(f%2?-(f+1):f)/2}return n>>1^-(n&1)};Tap.prototype.skipInt=Tap.prototype.skipLong=function(){var buf=this.buf;while(buf[this.pos++]&128){}};Tap.prototype.writeInt=Tap.prototype.writeLong=function(n){var buf=this.buf;var f,m;if(n>=-1073741824&&n<1073741824){m=n>=0?n<<1:~n<<1|1;do{buf[this.pos]=m&127;m>>=7}while(m&&(buf[this.pos++]|=128))}else{f=n>=0?n*2:-n*2-1;do{buf[this.pos]=f&127;f/=128}while(f>=1&&(buf[this.pos++]|=128))}this.pos++};Tap.prototype.readFloat=function(){var buf=this.buf;var pos=this.pos;this.pos+=4;if(this.pos>buf.length){return 0}return this.buf.readFloatLE(pos)};Tap.prototype.skipFloat=function(){this.pos+=4};Tap.prototype.writeFloat=function(f){var buf=this.buf;var pos=this.pos;this.pos+=4;if(this.pos>buf.length){return}return this.buf.writeFloatLE(f,pos)};Tap.prototype.readDouble=function(){var buf=this.buf;var pos=this.pos;this.pos+=8;if(this.pos>buf.length){return 0}return this.buf.readDoubleLE(pos)};Tap.prototype.skipDouble=function(){this.pos+=8};Tap.prototype.writeDouble=function(d){var buf=this.buf;var pos=this.pos;this.pos+=8;if(this.pos>buf.length){return}return this.buf.writeDoubleLE(d,pos)};Tap.prototype.readFixed=function(len){var pos=this.pos;this.pos+=len;if(this.pos>this.buf.length){return}var fixed=POOL.alloc(len);this.buf.copy(fixed,0,pos,pos+len);return fixed};Tap.prototype.skipFixed=function(len){this.pos+=len};Tap.prototype.writeFixed=function(buf,len){len=len||buf.length;var pos=this.pos;this.pos+=len;if(this.pos>this.buf.length){return}buf.copy(this.buf,pos,0,len)};Tap.prototype.readBytes=function(){var len=this.readLong();if(len<0){this._invalidate();return}return this.readFixed(len)};Tap.prototype.skipBytes=function(){var len=this.readLong();if(len<0){this._invalidate();return}this.pos+=len};Tap.prototype.writeBytes=function(buf){var len=buf.length;this.writeLong(len);this.writeFixed(buf,len)};if(typeof Buffer.prototype.utf8Slice=="function"){Tap.prototype.readString=function(){var len=this.readLong();if(len<0){this._invalidate();return""}var pos=this.pos;var buf=this.buf;this.pos+=len;if(this.pos>buf.length){return}return this.buf.utf8Slice(pos,pos+len)}}else{Tap.prototype.readString=function(){var len=this.readLong();if(len<0){this._invalidate();return""}var pos=this.pos;var buf=this.buf;this.pos+=len;if(this.pos>buf.length){return}return this.buf.slice(pos,pos+len).toString()}}Tap.prototype.skipString=function(){var len=this.readLong();if(len<0){this._invalidate();return}this.pos+=len};Tap.prototype.writeString=function(s){var len=Buffer.byteLength(s);var buf=this.buf;this.writeLong(len);var pos=this.pos;this.pos+=len;if(this.pos>buf.length){return}if(len>64&&typeof Buffer.prototype.utf8Write=="function"){buf.utf8Write(s,pos,len)}else{var i,l,c1,c2;for(i=0,l=len;i<l;i++){c1=s.charCodeAt(i);if(c1<128){buf[pos++]=c1}else if(c1<2048){buf[pos++]=c1>>6|192;buf[pos++]=c1&63|128}else if((c1&64512)===55296&&((c2=s.charCodeAt(i+1))&64512)===56320){c1=65536+((c1&1023)<<10)+(c2&1023);i++;buf[pos++]=c1>>18|240;buf[pos++]=c1>>12&63|128;buf[pos++]=c1>>6&63|128;buf[pos++]=c1&63|128}else{buf[pos++]=c1>>12|224;buf[pos++]=c1>>6&63|128;buf[pos++]=c1&63|128}}}};if(typeof Buffer.prototype.latin1Write=="function"){Tap.prototype.writeBinary=function(str,len){var pos=this.pos;this.pos+=len;if(this.pos>this.buf.length){return}this.buf.latin1Write(str,pos,len)}}else if(typeof Buffer.prototype.binaryWrite=="function"){Tap.prototype.writeBinary=function(str,len){var pos=this.pos;this.pos+=len;if(this.pos>this.buf.length){return}this.buf.binaryWrite(str,pos,len)}}else{Tap.prototype.writeBinary=function(s,len){var pos=this.pos;this.pos+=len;if(this.pos>this.buf.length){return}this.buf.write(s,pos,len,"binary")}}Tap.prototype.matchBoolean=function(tap){return this.buf[this.pos++]-tap.buf[tap.pos++]};Tap.prototype.matchInt=Tap.prototype.matchLong=function(tap){var n1=this.readLong();var n2=tap.readLong();return n1===n2?0:n1<n2?-1:1};Tap.prototype.matchFloat=function(tap){var n1=this.readFloat();var n2=tap.readFloat();return n1===n2?0:n1<n2?-1:1};Tap.prototype.matchDouble=function(tap){var n1=this.readDouble();var n2=tap.readDouble();return n1===n2?0:n1<n2?-1:1};Tap.prototype.matchFixed=function(tap,len){return this.readFixed(len).compare(tap.readFixed(len))};Tap.prototype.matchBytes=Tap.prototype.matchString=function(tap){var l1=this.readLong();var p1=this.pos;this.pos+=l1;var l2=tap.readLong();var p2=tap.pos;tap.pos+=l2;var b1=this.buf.slice(p1,this.pos);var b2=tap.buf.slice(p2,tap.pos);return b1.compare(b2)};Tap.prototype.unpackLongBytes=function(){var res=newBuffer(8);var n=0;var i=0;var j=6;var buf=this.buf;var b,neg;b=buf[this.pos++];neg=b&1;res.fill(0);n|=(b&127)>>1;while(b&128){b=buf[this.pos++];n|=(b&127)<<j;j+=7;if(j>=8){j-=8;res[i++]=n;n>>=8}}res[i]=n;if(neg){invert(res,8)}return res};Tap.prototype.packLongBytes=function(buf){var neg=(buf[7]&128)>>7;var res=this.buf;var j=1;var k=0;var m=3;var n;if(neg){invert(buf,8);n=1}else{n=0}var parts=[buf.readUIntLE(0,3),buf.readUIntLE(3,3),buf.readUIntLE(6,2)];while(m&&!parts[--m]){}while(k<m){n|=parts[k++]<<j;j+=24;while(j>7){res[this.pos++]=n&127|128;n>>=7;j-=7}}n|=parts[m]<<j;do{res[this.pos]=n&127;n>>=7}while(n&&(res[this.pos++]|=128));this.pos++;if(neg){invert(buf,8)}};function invert(buf,len){while(len--){buf[len]=~buf[len]}}module.exports={abstractFunction:abstractFunction,addDeprecatedGetters:addDeprecatedGetters,bufferFrom:bufferFrom,capitalize:capitalize,copyOwnProperties:copyOwnProperties,getHash:getHash,compare:compare,getOption:getOption,impliedNamespace:impliedNamespace,isValidName:isValidName,jsonEnd:jsonEnd,newBuffer:newBuffer,objectValues:objectValues,qualify:qualify,toMap:toMap,singleIndexOf:singleIndexOf,hasDuplicates:hasDuplicates,unqualify:unqualify,BufferPool:BufferPool,Lcg:Lcg,OrderedQueue:OrderedQueue,Tap:Tap}}).call(this)}).call(this,require("buffer").Buffer)},{buffer:8,crypto:2,util:28}],5:[function(require,module,exports){module.exports=function(arr,fn,self){if(arr.filter)return arr.filter(fn,self);if(void 0===arr||null===arr)throw new TypeError;if("function"!=typeof fn)throw new TypeError;var ret=[];for(var i=0;i<arr.length;i++){if(!hasOwn.call(arr,i))continue;var val=arr[i];if(fn.call(self,val,i,arr))ret.push(val)}return ret};var hasOwn=Object.prototype.hasOwnProperty},{}],6:[function(require,module,exports){(function(global){(function(){"use strict";var filter=require("array-filter");module.exports=function availableTypedArrays(){return filter(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],function(typedArray){return typeof global[typedArray]==="function"})}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"array-filter":5}],7:[function(require,module,exports){"use strict";exports.byteLength=byteLength;exports.toByteArray=toByteArray;exports.fromByteArray=fromByteArray;var lookup=[];var revLookup=[];var Arr=typeof Uint8Array!=="undefined"?Uint8Array:Array;var code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i){lookup[i]=code[i];revLookup[code.charCodeAt(i)]=i}revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(b64){var len=b64.length;if(len%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var validLen=b64.indexOf("=");if(validLen===-1)validLen=len;var placeHoldersLen=validLen===len?0:4-validLen%4;return[validLen,placeHoldersLen]}function byteLength(b64){var lens=getLens(b64);var validLen=lens[0];var placeHoldersLen=lens[1];return(validLen+placeHoldersLen)*3/4-placeHoldersLen}function _byteLength(b64,validLen,placeHoldersLen){return(validLen+placeHoldersLen)*3/4-placeHoldersLen}function toByteArray(b64){var tmp;var lens=getLens(b64);var validLen=lens[0];var placeHoldersLen=lens[1];var arr=new Arr(_byteLength(b64,validLen,placeHoldersLen));var curByte=0;var len=placeHoldersLen>0?validLen-4:validLen;var i;for(i=0;i<len;i+=4){tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)];arr[curByte++]=tmp>>16&255;arr[curByte++]=tmp>>8&255;arr[curByte++]=tmp&255}if(placeHoldersLen===2){tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4;arr[curByte++]=tmp&255}if(placeHoldersLen===1){tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2;arr[curByte++]=tmp>>8&255;arr[curByte++]=tmp&255}return arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[num&63]}function encodeChunk(uint8,start,end){var tmp;var output=[];for(var i=start;i<end;i+=3){tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(uint8[i+2]&255);output.push(tripletToBase64(tmp))}return output.join("")}function fromByteArray(uint8){var tmp;var len=uint8.length;var extraBytes=len%3;var parts=[];var maxChunkLength=16383;for(var i=0,len2=len-extraBytes;i<len2;i+=maxChunkLength){parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength))}if(extraBytes===1){tmp=uint8[len-1];parts.push(lookup[tmp>>2]+lookup[tmp<<4&63]+"==")}else if(extraBytes===2){tmp=(uint8[len-2]<<8)+uint8[len-1];parts.push(lookup[tmp>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+"=")}return parts.join("")}},{}],8:[function(require,module,exports){(function(Buffer){(function(){"use strict";var base64=require("base64-js");var ieee754=require("ieee754");exports.Buffer=Buffer;exports.SlowBuffer=SlowBuffer;exports.INSPECT_MAX_BYTES=50;var K_MAX_LENGTH=2147483647;exports.kMaxLength=K_MAX_LENGTH;Buffer.TYPED_ARRAY_SUPPORT=typedArraySupport();if(!Buffer.TYPED_ARRAY_SUPPORT&&typeof console!=="undefined"&&typeof console.error==="function"){console.error("This browser lacks typed array (Uint8Array) support which is required by "+"`buffer` v5.x. Use `buffer` v4.x if you require old browser support.")}function typedArraySupport(){try{var arr=new Uint8Array(1);arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return arr.foo()===42}catch(e){return false}}Object.defineProperty(Buffer.prototype,"parent",{enumerable:true,get:function(){if(!Buffer.isBuffer(this))return undefined;return this.buffer}});Object.defineProperty(Buffer.prototype,"offset",{enumerable:true,get:function(){if(!Buffer.isBuffer(this))return undefined;return this.byteOffset}});function createBuffer(length){if(length>K_MAX_LENGTH){throw new RangeError('The value "'+length+'" is invalid for option "size"')}var buf=new Uint8Array(length);buf.__proto__=Buffer.prototype;return buf}function Buffer(arg,encodingOrOffset,length){if(typeof arg==="number"){if(typeof encodingOrOffset==="string"){throw new TypeError('The "string" argument must be of type string. Received type number')}return allocUnsafe(arg)}return from(arg,encodingOrOffset,length)}if(typeof Symbol!=="undefined"&&Symbol.species!=null&&Buffer[Symbol.species]===Buffer){Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:true,enumerable:false,writable:false})}Buffer.poolSize=8192;function from(value,encodingOrOffset,length){if(typeof value==="string"){return fromString(value,encodingOrOffset)}if(ArrayBuffer.isView(value)){return fromArrayLike(value)}if(value==null){throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, "+"or Array-like Object. Received type "+typeof value)}if(isInstance(value,ArrayBuffer)||value&&isInstance(value.buffer,ArrayBuffer)){return fromArrayBuffer(value,encodingOrOffset,length)}if(typeof value==="number"){throw new TypeError('The "value" argument must not be of type number. Received type number')}var valueOf=value.valueOf&&value.valueOf();if(valueOf!=null&&valueOf!==value){return Buffer.from(valueOf,encodingOrOffset,length)}var b=fromObject(value);if(b)return b;if(typeof Symbol!=="undefined"&&Symbol.toPrimitive!=null&&typeof value[Symbol.toPrimitive]==="function"){return Buffer.from(value[Symbol.toPrimitive]("string"),encodingOrOffset,length)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, "+"or Array-like Object. Received type "+typeof value)}Buffer.from=function(value,encodingOrOffset,length){return from(value,encodingOrOffset,length)};Buffer.prototype.__proto__=Uint8Array.prototype;Buffer.__proto__=Uint8Array;function assertSize(size){if(typeof size!=="number"){throw new TypeError('"size" argument must be of type number')}else if(size<0){throw new RangeError('The value "'+size+'" is invalid for option "size"')}}function alloc(size,fill,encoding){assertSize(size);if(size<=0){return createBuffer(size)}if(fill!==undefined){return typeof encoding==="string"?createBuffer(size).fill(fill,encoding):createBuffer(size).fill(fill)}return createBuffer(size)}Buffer.alloc=function(size,fill,encoding){return alloc(size,fill,encoding)};function allocUnsafe(size){assertSize(size);return createBuffer(size<0?0:checked(size)|0)}Buffer.allocUnsafe=function(size){return allocUnsafe(size)};Buffer.allocUnsafeSlow=function(size){return allocUnsafe(size)};function fromString(string,encoding){if(typeof encoding!=="string"||encoding===""){encoding="utf8"}if(!Buffer.isEncoding(encoding)){throw new TypeError("Unknown encoding: "+encoding)}var length=byteLength(string,encoding)|0;var buf=createBuffer(length);var actual=buf.write(string,encoding);if(actual!==length){buf=buf.slice(0,actual)}return buf}function fromArrayLike(array){var length=array.length<0?0:checked(array.length)|0;var buf=createBuffer(length);for(var i=0;i<length;i+=1){buf[i]=array[i]&255}return buf}function fromArrayBuffer(array,byteOffset,length){if(byteOffset<0||array.byteLength<byteOffset){throw new RangeError('"offset" is outside of buffer bounds')}if(array.byteLength<byteOffset+(length||0)){throw new RangeError('"length" is outside of buffer bounds')}var buf;if(byteOffset===undefined&&length===undefined){buf=new Uint8Array(array)}else if(length===undefined){buf=new Uint8Array(array,byteOffset)}else{buf=new Uint8Array(array,byteOffset,length)}buf.__proto__=Buffer.prototype;return buf}function fromObject(obj){if(Buffer.isBuffer(obj)){var len=checked(obj.length)|0;var buf=createBuffer(len);if(buf.length===0){return buf}obj.copy(buf,0,0,len);return buf}if(obj.length!==undefined){if(typeof obj.length!=="number"||numberIsNaN(obj.length)){return createBuffer(0)}return fromArrayLike(obj)}if(obj.type==="Buffer"&&Array.isArray(obj.data)){return fromArrayLike(obj.data)}}function checked(length){if(length>=K_MAX_LENGTH){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+K_MAX_LENGTH.toString(16)+" bytes")}return length|0}function SlowBuffer(length){if(+length!=length){length=0}return Buffer.alloc(+length)}Buffer.isBuffer=function isBuffer(b){return b!=null&&b._isBuffer===true&&b!==Buffer.prototype};Buffer.compare=function compare(a,b){if(isInstance(a,Uint8Array))a=Buffer.from(a,a.offset,a.byteLength);if(isInstance(b,Uint8Array))b=Buffer.from(b,b.offset,b.byteLength);if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b)){throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array')}if(a===b)return 0;var x=a.length;var y=b.length;for(var i=0,len=Math.min(x,y);i<len;++i){if(a[i]!==b[i]){x=a[i];y=b[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};Buffer.isEncoding=function isEncoding(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};Buffer.concat=function concat(list,length){if(!Array.isArray(list)){throw new TypeError('"list" argument must be an Array of Buffers')}if(list.length===0){return Buffer.alloc(0)}var i;if(length===undefined){length=0;for(i=0;i<list.length;++i){length+=list[i].length}}var buffer=Buffer.allocUnsafe(length);var pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(isInstance(buf,Uint8Array)){buf=Buffer.from(buf)}if(!Buffer.isBuffer(buf)){throw new TypeError('"list" argument must be an Array of Buffers')}buf.copy(buffer,pos);pos+=buf.length}return buffer};function byteLength(string,encoding){if(Buffer.isBuffer(string)){return string.length}if(ArrayBuffer.isView(string)||isInstance(string,ArrayBuffer)){return string.byteLength}if(typeof string!=="string"){throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. '+"Received type "+typeof string)}var len=string.length;var mustMatch=arguments.length>2&&arguments[2]===true;if(!mustMatch&&len===0)return 0;var loweredCase=false;for(;;){switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return len*2;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase){return mustMatch?-1:utf8ToBytes(string).length}encoding=(""+encoding).toLowerCase();loweredCase=true}}}Buffer.byteLength=byteLength;function slowToString(encoding,start,end){var loweredCase=false;if(start===undefined||start<0){start=0}if(start>this.length){return""}if(end===undefined||end>this.length){end=this.length}if(end<=0){return""}end>>>=0;start>>>=0;if(end<=start){return""}if(!encoding)encoding="utf8";while(true){switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase();loweredCase=true}}}Buffer.prototype._isBuffer=true;function swap(b,n,m){var i=b[n];b[n]=b[m];b[m]=i}Buffer.prototype.swap16=function swap16(){var len=this.length;if(len%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var i=0;i<len;i+=2){swap(this,i,i+1)}return this};Buffer.prototype.swap32=function swap32(){var len=this.length;if(len%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var i=0;i<len;i+=4){swap(this,i,i+3);swap(this,i+1,i+2)}return this};Buffer.prototype.swap64=function swap64(){var len=this.length;if(len%8!==0){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(var i=0;i<len;i+=8){swap(this,i,i+7);swap(this,i+1,i+6);swap(this,i+2,i+5);swap(this,i+3,i+4)}return this};Buffer.prototype.toString=function toString(){var length=this.length;if(length===0)return"";if(arguments.length===0)return utf8Slice(this,0,length);return slowToString.apply(this,arguments)};Buffer.prototype.toLocaleString=Buffer.prototype.toString;Buffer.prototype.equals=function equals(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return true;return Buffer.compare(this,b)===0};Buffer.prototype.inspect=function inspect(){var str="";var max=exports.INSPECT_MAX_BYTES;str=this.toString("hex",0,max).replace(/(.{2})/g,"$1 ").trim();if(this.length>max)str+=" ... ";return"<Buffer "+str+">"};Buffer.prototype.compare=function compare(target,start,end,thisStart,thisEnd){if(isInstance(target,Uint8Array)){target=Buffer.from(target,target.offset,target.byteLength)}if(!Buffer.isBuffer(target)){throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. '+"Received type "+typeof target)}if(start===undefined){start=0}if(end===undefined){end=target?target.length:0}if(thisStart===undefined){thisStart=0}if(thisEnd===undefined){thisEnd=this.length}if(start<0||end>target.length||thisStart<0||thisEnd>this.length){throw new RangeError("out of range index")}if(thisStart>=thisEnd&&start>=end){return 0}if(thisStart>=thisEnd){return-1}if(start>=end){return 1}start>>>=0;end>>>=0;thisStart>>>=0;thisEnd>>>=0;if(this===target)return 0;var x=thisEnd-thisStart;var y=end-start;var len=Math.min(x,y);var thisCopy=this.slice(thisStart,thisEnd);var targetCopy=target.slice(start,end);for(var i=0;i<len;++i){if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i];y=targetCopy[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(buffer.length===0)return-1;if(typeof byteOffset==="string"){encoding=byteOffset;byteOffset=0}else if(byteOffset>2147483647){byteOffset=2147483647}else if(byteOffset<-2147483648){byteOffset=-2147483648}byteOffset=+byteOffset;if(numberIsNaN(byteOffset)){byteOffset=dir?0:buffer.length-1}if(byteOffset<0)byteOffset=buffer.length+byteOffset;if(byteOffset>=buffer.length){if(dir)return-1;else byteOffset=buffer.length-1}else if(byteOffset<0){if(dir)byteOffset=0;else return-1}if(typeof val==="string"){val=Buffer.from(val,encoding)}if(Buffer.isBuffer(val)){if(val.length===0){return-1}return arrayIndexOf(buffer,val,byteOffset,encoding,dir)}else if(typeof val==="number"){val=val&255;if(typeof Uint8Array.prototype.indexOf==="function"){if(dir){return Uint8Array.prototype.indexOf.call(buffer,val,byteOffset)}else{return Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset)}}return arrayIndexOf(buffer,[val],byteOffset,encoding,dir)}throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var indexSize=1;var arrLength=arr.length;var valLength=val.length;if(encoding!==undefined){encoding=String(encoding).toLowerCase();if(encoding==="ucs2"||encoding==="ucs-2"||encoding==="utf16le"||encoding==="utf-16le"){if(arr.length<2||val.length<2){return-1}indexSize=2;arrLength/=2;valLength/=2;byteOffset/=2}}function read(buf,i){if(indexSize===1){return buf[i]}else{return buf.readUInt16BE(i*indexSize)}}var i;if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++){if(read(arr,i)===read(val,foundIndex===-1?0:i-foundIndex)){if(foundIndex===-1)foundIndex=i;if(i-foundIndex+1===valLength)return foundIndex*indexSize}else{if(foundIndex!==-1)i-=i-foundIndex;foundIndex=-1}}}else{if(byteOffset+valLength>arrLength)byteOffset=arrLength-valLength;for(i=byteOffset;i>=0;i--){var found=true;for(var j=0;j<valLength;j++){if(read(arr,i+j)!==read(val,j)){found=false;break}}if(found)return i}}return-1}Buffer.prototype.includes=function includes(val,byteOffset,encoding){return this.indexOf(val,byteOffset,encoding)!==-1};Buffer.prototype.indexOf=function indexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,true)};Buffer.prototype.lastIndexOf=function lastIndexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,false)};function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;if(!length){length=remaining}else{length=Number(length);if(length>remaining){length=remaining}}var strLen=string.length;if(length>strLen/2){length=strLen/2}for(var i=0;i<length;++i){var parsed=parseInt(string.substr(i*2,2),16);if(numberIsNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}Buffer.prototype.write=function write(string,offset,length,encoding){if(offset===undefined){encoding="utf8";length=this.length;offset=0}else if(length===undefined&&typeof offset==="string"){encoding=offset;length=this.length;offset=0}else if(isFinite(offset)){offset=offset>>>0;if(isFinite(length)){length=length>>>0;if(encoding===undefined)encoding="utf8"}else{encoding=length;length=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}var remaining=this.length-offset;if(length===undefined||length>remaining)length=remaining;if(string.length>0&&(length<0||offset<0)||offset>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!encoding)encoding="utf8";var loweredCase=false;for(;;){switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase();loweredCase=true}}};Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(buf,start,end){if(start===0&&end===buf.length){return base64.fromByteArray(buf)}else{return base64.fromByteArray(buf.slice(start,end))}}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);var res=[];var i=start;while(i<end){var firstByte=buf[i];var codePoint=null;var bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:if(firstByte<128){codePoint=firstByte}break;case 2:secondByte=buf[i+1];if((secondByte&192)===128){tempCodePoint=(firstByte&31)<<6|secondByte&63;if(tempCodePoint>127){codePoint=tempCodePoint}}break;case 3:secondByte=buf[i+1];thirdByte=buf[i+2];if((secondByte&192)===128&&(thirdByte&192)===128){tempCodePoint=(firstByte&15)<<12|(secondByte&63)<<6|thirdByte&63;if(tempCodePoint>2047&&(tempCodePoint<55296||tempCodePoint>57343)){codePoint=tempCodePoint}}break;case 4:secondByte=buf[i+1];thirdByte=buf[i+2];fourthByte=buf[i+3];if((secondByte&192)===128&&(thirdByte&192)===128&&(fourthByte&192)===128){tempCodePoint=(firstByte&15)<<18|(secondByte&63)<<12|(thirdByte&63)<<6|fourthByte&63;if(tempCodePoint>65535&&tempCodePoint<1114112){codePoint=tempCodePoint}}}}if(codePoint===null){codePoint=65533;bytesPerSequence=1}else if(codePoint>65535){codePoint-=65536;res.push(codePoint>>>10&1023|55296);codePoint=56320|codePoint&1023}res.push(codePoint);i+=bytesPerSequence}return decodeCodePointsArray(res)}var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH){return String.fromCharCode.apply(String,codePoints)}var res="";var i=0;while(i<len){res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH))}return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i){ret+=String.fromCharCode(buf[i]&127)}return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i){ret+=String.fromCharCode(buf[i])}return ret}function hexSlice(buf,start,end){var len=buf.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out="";for(var i=start;i<end;++i){out+=toHex(buf[i])}return out}function utf16leSlice(buf,start,end){var bytes=buf.slice(start,end);var res="";for(var i=0;i<bytes.length;i+=2){res+=String.fromCharCode(bytes[i]+bytes[i+1]*256)}return res}Buffer.prototype.slice=function slice(start,end){var len=this.length;start=~~start;end=end===undefined?len:~~end;if(start<0){start+=len;if(start<0)start=0}else if(start>len){start=len}if(end<0){end+=len;if(end<0)end=0}else if(end>len){end=len}if(end<start)end=start;var newBuf=this.subarray(start,end);newBuf.__proto__=Buffer.prototype;return newBuf};function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}return val};Buffer.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert){checkOffset(offset,byteLength,this.length)}var val=this[offset+--byteLength];var mul=1;while(byteLength>0&&(mul*=256)){val+=this[offset+--byteLength]*mul}return val};Buffer.prototype.readUInt8=function readUInt8(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,1,this.length);return this[offset]};Buffer.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);return this[offset]|this[offset+1]<<8};Buffer.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);return this[offset]<<8|this[offset+1]};Buffer.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+this[offset+3]*16777216};Buffer.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return this[offset]*16777216+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])};Buffer.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var i=byteLength;var mul=1;var val=this[offset+--i];while(i>0&&(mul*=256)){val+=this[offset+--i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readInt8=function readInt8(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,1,this.length);if(!(this[offset]&128))return this[offset];return(255-this[offset]+1)*-1};Buffer.prototype.readInt16LE=function readInt16LE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt16BE=function readInt16BE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt32LE=function readInt32LE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24};Buffer.prototype.readInt32BE=function readInt32BE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]};Buffer.prototype.readFloatLE=function readFloatLE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,true,23,4)};Buffer.prototype.readFloatBE=function readFloatBE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,false,23,4)};Buffer.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,true,52,8)};Buffer.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,false,52,8)};function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}Buffer.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var mul=1;var i=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var i=byteLength-1;var mul=1;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,1,255,0);this[offset]=value&255;return offset+1};Buffer.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,65535,0);this[offset]=value&255;this[offset+1]=value>>>8;return offset+2};Buffer.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,65535,0);this[offset]=value>>>8;this[offset+1]=value&255;return offset+2};Buffer.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);this[offset+3]=value>>>24;this[offset+2]=value>>>16;this[offset+1]=value>>>8;this[offset]=value&255;return offset+4};Buffer.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255;return offset+4};Buffer.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0;var mul=1;var sub=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){if(value<0&&sub===0&&this[offset+i-1]!==0){sub=1}this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1;var mul=1;var sub=0;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){if(value<0&&sub===0&&this[offset+i+1]!==0){sub=1}this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeInt8=function writeInt8(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,1,127,-128);if(value<0)value=255+value+1;this[offset]=value&255;return offset+1};Buffer.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);this[offset]=value&255;this[offset+1]=value>>>8;return offset+2};Buffer.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);this[offset]=value>>>8;this[offset+1]=value&255;return offset+2};Buffer.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);this[offset]=value&255;this[offset+1]=value>>>8;this[offset+2]=value>>>16;this[offset+3]=value>>>24;return offset+4};Buffer.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(value<0)value=4294967295+value+1;this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255;return offset+4};function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){value=+value;offset=offset>>>0;if(!noAssert){checkIEEE754(buf,value,offset,4,34028234663852886e22,-34028234663852886e22)}ieee754.write(buf,value,offset,littleEndian,23,4);return offset+4}Buffer.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,true,noAssert)};Buffer.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,false,noAssert)};function writeDouble(buf,value,offset,littleEndian,noAssert){value=+value;offset=offset>>>0;if(!noAssert){checkIEEE754(buf,value,offset,8,17976931348623157e292,-17976931348623157e292)}ieee754.write(buf,value,offset,littleEndian,52,8);return offset+8}Buffer.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,true,noAssert)};Buffer.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,false,noAssert)};Buffer.prototype.copy=function copy(target,targetStart,start,end){if(!Buffer.isBuffer(target))throw new TypeError("argument should be a Buffer");if(!start)start=0;if(!end&&end!==0)end=this.length;if(targetStart>=target.length)targetStart=target.length;if(!targetStart)targetStart=0;if(end>0&&end<start)end=start;if(end===start)return 0;if(target.length===0||this.length===0)return 0;if(targetStart<0){throw new RangeError("targetStart out of bounds")}if(start<0||start>=this.length)throw new RangeError("Index out of range");if(end<0)throw new RangeError("sourceEnd out of bounds");if(end>this.length)end=this.length;if(target.length-targetStart<end-start){end=target.length-targetStart+start}var len=end-start;if(this===target&&typeof Uint8Array.prototype.copyWithin==="function"){this.copyWithin(targetStart,start,end)}else if(this===target&&start<targetStart&&targetStart<end){for(var i=len-1;i>=0;--i){target[i+targetStart]=this[i+start]}}else{Uint8Array.prototype.set.call(target,this.subarray(start,end),targetStart)}return len};Buffer.prototype.fill=function fill(val,start,end,encoding){if(typeof val==="string"){if(typeof start==="string"){encoding=start;start=0;end=this.length}else if(typeof end==="string"){encoding=end;end=this.length}if(encoding!==undefined&&typeof encoding!=="string"){throw new TypeError("encoding must be a string")}if(typeof encoding==="string"&&!Buffer.isEncoding(encoding)){throw new TypeError("Unknown encoding: "+encoding)}if(val.length===1){var code=val.charCodeAt(0);if(encoding==="utf8"&&code<128||encoding==="latin1"){val=code}}}else if(typeof val==="number"){val=val&255}if(start<0||this.length<start||this.length<end){throw new RangeError("Out of range index")}if(end<=start){return this}start=start>>>0;end=end===undefined?this.length:end>>>0;if(!val)val=0;var i;if(typeof val==="number"){for(i=start;i<end;++i){this[i]=val}}else{var bytes=Buffer.isBuffer(val)?val:Buffer.from(val,encoding);var len=bytes.length;if(len===0){throw new TypeError('The value "'+val+'" is invalid for argument "value"')}for(i=0;i<end-start;++i){this[i+start]=bytes[i%len]}}return this};var INVALID_BASE64_RE=/[^+/0-9A-Za-z-_]/g;function base64clean(str){str=str.split("=")[0];str=str.trim().replace(INVALID_BASE64_RE,"");if(str.length<2)return"";while(str.length%4!==0){str=str+"="}return str}function toHex(n){if(n<16)return"0"+n.toString(16);return n.toString(16)}function utf8ToBytes(string,units){units=units||Infinity;var codePoint;var length=string.length;var leadSurrogate=null;var bytes=[];for(var i=0;i<length;++i){codePoint=string.charCodeAt(i);if(codePoint>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){if((units-=3)>-1)bytes.push(239,191,189);continue}else if(i+1===length){if((units-=3)>-1)bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){if((units-=3)>-1)bytes.push(239,191,189);leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else if(leadSurrogate){if((units-=3)>-1)bytes.push(239,191,189)}leadSurrogate=null;if(codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,codePoint&63|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,codePoint&63|128)}else if(codePoint<1114112){if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,codePoint&63|128)}else{throw new Error("Invalid code point")}}return bytes}function asciiToBytes(str){var byteArray=[];for(var i=0;i<str.length;++i){byteArray.push(str.charCodeAt(i)&255)}return byteArray}function utf16leToBytes(str,units){var c,hi,lo;var byteArray=[];for(var i=0;i<str.length;++i){if((units-=2)<0)break;c=str.charCodeAt(i);hi=c>>8;lo=c%256;byteArray.push(lo);byteArray.push(hi)}return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length;++i){if(i+offset>=dst.length||i>=src.length)break;dst[i+offset]=src[i]}return i}function isInstance(obj,type){return obj instanceof type||obj!=null&&obj.constructor!=null&&obj.constructor.name!=null&&obj.constructor.name===type.name}function numberIsNaN(obj){return obj!==obj}}).call(this)}).call(this,require("buffer").Buffer)},{"base64-js":7,buffer:8,ieee754:20}],9:[function(require,module,exports){"use strict";var GetIntrinsic=require("get-intrinsic");var callBind=require("./");var $indexOf=callBind(GetIntrinsic("String.prototype.indexOf"));module.exports=function callBoundIntrinsic(name,allowMissing){var intrinsic=GetIntrinsic(name,!!allowMissing);if(typeof intrinsic==="function"&&$indexOf(name,".prototype.")>-1){return callBind(intrinsic)}return intrinsic}},{"./":10,"get-intrinsic":16}],10:[function(require,module,exports){"use strict";var bind=require("function-bind");var GetIntrinsic=require("get-intrinsic");var $apply=GetIntrinsic("%Function.prototype.apply%");var $call=GetIntrinsic("%Function.prototype.call%");var $reflectApply=GetIntrinsic("%Reflect.apply%",true)||bind.call($call,$apply);var $gOPD=GetIntrinsic("%Object.getOwnPropertyDescriptor%",true);var $defineProperty=GetIntrinsic("%Object.defineProperty%",true);var $max=GetIntrinsic("%Math.max%");if($defineProperty){try{$defineProperty({},"a",{value:1})}catch(e){$defineProperty=null}}module.exports=function callBind(originalFunction){var func=$reflectApply(bind,$call,arguments);if($gOPD&&$defineProperty){var desc=$gOPD(func,"length");if(desc.configurable){$defineProperty(func,"length",{value:1+$max(0,originalFunction.length-(arguments.length-1))})}}return func};var applyBind=function applyBind(){return $reflectApply(bind,$apply,arguments)};if($defineProperty){$defineProperty(module.exports,"apply",{value:applyBind})}else{module.exports.apply=applyBind}},{"function-bind":15,"get-intrinsic":16}],11:[function(require,module,exports){"use strict";var undefined;var $SyntaxError=SyntaxError;var $Function=Function;var $TypeError=TypeError;var getEvalledConstructor=function(expressionSyntax){try{return Function('"use strict"; return ('+expressionSyntax+").constructor;")()}catch(e){}};var $gOPD=Object.getOwnPropertyDescriptor;if($gOPD){try{$gOPD({},"")}catch(e){$gOPD=null}}var throwTypeError=function(){throw new $TypeError};var ThrowTypeError=$gOPD?function(){try{arguments.callee;return throwTypeError}catch(calleeThrows){try{return $gOPD(arguments,"callee").get}catch(gOPDthrows){return throwTypeError}}}():throwTypeError;var hasSymbols=require("has-symbols")();var getProto=Object.getPrototypeOf||function(x){return x.__proto__};var asyncGenFunction=getEvalledConstructor("async function* () {}");var asyncGenFunctionPrototype=asyncGenFunction?asyncGenFunction.prototype:undefined;var asyncGenPrototype=asyncGenFunctionPrototype?asyncGenFunctionPrototype.prototype:undefined;var TypedArray=typeof Uint8Array==="undefined"?undefined:getProto(Uint8Array);var INTRINSICS={"%AggregateError%":typeof AggregateError==="undefined"?undefined:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer==="undefined"?undefined:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols?getProto([][Symbol.iterator]()):undefined,"%AsyncFromSyncIteratorPrototype%":undefined,"%AsyncFunction%":getEvalledConstructor("async function () {}"),"%AsyncGenerator%":asyncGenFunctionPrototype,"%AsyncGeneratorFunction%":asyncGenFunction,"%AsyncIteratorPrototype%":asyncGenPrototype?getProto(asyncGenPrototype):undefined,"%Atomics%":typeof Atomics==="undefined"?undefined:Atomics,"%BigInt%":typeof BigInt==="undefined"?undefined:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView==="undefined"?undefined:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array==="undefined"?undefined:Float32Array,"%Float64Array%":typeof Float64Array==="undefined"?undefined:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry==="undefined"?undefined:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":getEvalledConstructor("function* () {}"),"%Int8Array%":typeof Int8Array==="undefined"?undefined:Int8Array,"%Int16Array%":typeof Int16Array==="undefined"?undefined:Int16Array,"%Int32Array%":typeof Int32Array==="undefined"?undefined:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols?getProto(getProto([][Symbol.iterator]())):undefined,"%JSON%":typeof JSON==="object"?JSON:undefined,"%Map%":typeof Map==="undefined"?undefined:Map,"%MapIteratorPrototype%":typeof Map==="undefined"||!hasSymbols?undefined:getProto((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise==="undefined"?undefined:Promise,"%Proxy%":typeof Proxy==="undefined"?undefined:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect==="undefined"?undefined:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set==="undefined"?undefined:Set,"%SetIteratorPrototype%":typeof Set==="undefined"||!hasSymbols?undefined:getProto((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer==="undefined"?undefined:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols?getProto(""[Symbol.iterator]()):undefined,"%Symbol%":hasSymbols?Symbol:undefined,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError,"%Uint8Array%":typeof Uint8Array==="undefined"?undefined:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray==="undefined"?undefined:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array==="undefined"?undefined:Uint16Array,"%Uint32Array%":typeof Uint32Array==="undefined"?undefined:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap==="undefined"?undefined:WeakMap,"%WeakRef%":typeof WeakRef==="undefined"?undefined:WeakRef,"%WeakSet%":typeof WeakSet==="undefined"?undefined:WeakSet};var LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]};var bind=require("function-bind");var hasOwn=require("has");var $concat=bind.call(Function.call,Array.prototype.concat);var $spliceApply=bind.call(Function.apply,Array.prototype.splice);var $replace=bind.call(Function.call,String.prototype.replace);var rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;var reEscapeChar=/\\(\\)?/g;var stringToPath=function stringToPath(string){var result=[];$replace(string,rePropName,function(match,number,quote,subString){result[result.length]=quote?$replace(subString,reEscapeChar,"$1"):number||match});return result};var getBaseIntrinsic=function getBaseIntrinsic(name,allowMissing){var intrinsicName=name;var alias;if(hasOwn(LEGACY_ALIASES,intrinsicName)){alias=LEGACY_ALIASES[intrinsicName];intrinsicName="%"+alias[0]+"%"}if(hasOwn(INTRINSICS,intrinsicName)){var value=INTRINSICS[intrinsicName];if(typeof value==="undefined"&&!allowMissing){throw new $TypeError("intrinsic "+name+" exists, but is not available. Please file an issue!")}return{alias:alias,name:intrinsicName,value:value}}throw new $SyntaxError("intrinsic "+name+" does not exist!")};module.exports=function GetIntrinsic(name,allowMissing){if(typeof name!=="string"||name.length===0){throw new $TypeError("intrinsic name must be a non-empty string")}if(arguments.length>1&&typeof allowMissing!=="boolean"){throw new $TypeError('"allowMissing" argument must be a boolean')}var parts=stringToPath(name);var intrinsicBaseName=parts.length>0?parts[0]:"";var intrinsic=getBaseIntrinsic("%"+intrinsicBaseName+"%",allowMissing);var intrinsicRealName=intrinsic.name;var value=intrinsic.value;var skipFurtherCaching=false;var alias=intrinsic.alias;if(alias){intrinsicBaseName=alias[0];$spliceApply(parts,$concat([0,1],alias))}for(var i=1,isOwn=true;i<parts.length;i+=1){var part=parts[i];if(part==="constructor"||!isOwn){skipFurtherCaching=true}intrinsicBaseName+="."+part;intrinsicRealName="%"+intrinsicBaseName+"%";if(hasOwn(INTRINSICS,intrinsicRealName)){value=INTRINSICS[intrinsicRealName]}else if(value!=null){if($gOPD&&i+1>=parts.length){var desc=$gOPD(value,part);isOwn=!!desc;if(!allowMissing&&!(part in value)){throw new $TypeError("base intrinsic for "+name+" exists, but the property is not available.")}if(isOwn&&"get"in desc&&!("originalValue"in desc.get)){value=desc.get}else{value=value[part]}}else{isOwn=hasOwn(value,part);value=value[part]}if(isOwn&&!skipFurtherCaching){INTRINSICS[intrinsicRealName]=value}}}return value}},{"function-bind":15,has:19,"has-symbols":17}],12:[function(require,module,exports){"use strict";var GetIntrinsic=require("../GetIntrinsic");var $gOPD=GetIntrinsic("%Object.getOwnPropertyDescriptor%");if($gOPD){try{$gOPD([],"length")}catch(e){$gOPD=null}}module.exports=$gOPD},{"../GetIntrinsic":11}],13:[function(require,module,exports){var hasOwn=Object.prototype.hasOwnProperty;var toString=Object.prototype.toString;module.exports=function forEach(obj,fn,ctx){if(toString.call(fn)!=="[object Function]"){throw new TypeError("iterator must be a function")}var l=obj.length;if(l===+l){for(var i=0;i<l;i++){fn.call(ctx,obj[i],i,obj)}}else{for(var k in obj){if(hasOwn.call(obj,k)){fn.call(ctx,obj[k],k,obj)}}}}},{}],14:[function(require,module,exports){"use strict";var ERROR_MESSAGE="Function.prototype.bind called on incompatible ";var slice=Array.prototype.slice;var toStr=Object.prototype.toString;var funcType="[object Function]";module.exports=function bind(that){var target=this;if(typeof target!=="function"||toStr.call(target)!==funcType){throw new TypeError(ERROR_MESSAGE+target)}var args=slice.call(arguments,1);var bound;var binder=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));if(Object(result)===result){return result}return this}else{return target.apply(that,args.concat(slice.call(arguments)))}};var boundLength=Math.max(0,target.length-args.length);var boundArgs=[];for(var i=0;i<boundLength;i++){boundArgs.push("$"+i)}bound=Function("binder","return function ("+boundArgs.join(",")+"){ return binder.apply(this,arguments); }")(binder);if(target.prototype){var Empty=function Empty(){};Empty.prototype=target.prototype;bound.prototype=new Empty;Empty.prototype=null}return bound}},{}],15:[function(require,module,exports){"use strict";var implementation=require("./implementation");module.exports=Function.prototype.bind||implementation},{"./implementation":14}],16:[function(require,module,exports){"use strict";var undefined;var $SyntaxError=SyntaxError;var $Function=Function;var $TypeError=TypeError;var getEvalledConstructor=function(expressionSyntax){try{return Function('"use strict"; return ('+expressionSyntax+").constructor;")()}catch(e){}};var $gOPD=Object.getOwnPropertyDescriptor;if($gOPD){try{$gOPD({},"")}catch(e){$gOPD=null}}var throwTypeError=function(){throw new $TypeError};var ThrowTypeError=$gOPD?function(){try{arguments.callee;return throwTypeError}catch(calleeThrows){try{return $gOPD(arguments,"callee").get}catch(gOPDthrows){return throwTypeError}}}():throwTypeError;var hasSymbols=require("has-symbols")();var getProto=Object.getPrototypeOf||function(x){return x.__proto__};var asyncGenFunction=getEvalledConstructor("async function* () {}");var asyncGenFunctionPrototype=asyncGenFunction?asyncGenFunction.prototype:undefined;var asyncGenPrototype=asyncGenFunctionPrototype?asyncGenFunctionPrototype.prototype:undefined;var TypedArray=typeof Uint8Array==="undefined"?undefined:getProto(Uint8Array);var INTRINSICS={"%AggregateError%":typeof AggregateError==="undefined"?undefined:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer==="undefined"?undefined:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols?getProto([][Symbol.iterator]()):undefined,"%AsyncFromSyncIteratorPrototype%":undefined,"%AsyncFunction%":getEvalledConstructor("async function () {}"),"%AsyncGenerator%":asyncGenFunctionPrototype,"%AsyncGeneratorFunction%":asyncGenFunction,"%AsyncIteratorPrototype%":asyncGenPrototype?getProto(asyncGenPrototype):undefined,"%Atomics%":typeof Atomics==="undefined"?undefined:Atomics,"%BigInt%":typeof BigInt==="undefined"?undefined:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView==="undefined"?undefined:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array==="undefined"?undefined:Float32Array,"%Float64Array%":typeof Float64Array==="undefined"?undefined:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry==="undefined"?undefined:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":getEvalledConstructor("function* () {}"),"%Int8Array%":typeof Int8Array==="undefined"?undefined:Int8Array,"%Int16Array%":typeof Int16Array==="undefined"?undefined:Int16Array,"%Int32Array%":typeof Int32Array==="undefined"?undefined:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols?getProto(getProto([][Symbol.iterator]())):undefined,"%JSON%":typeof JSON==="object"?JSON:undefined,"%Map%":typeof Map==="undefined"?undefined:Map,"%MapIteratorPrototype%":typeof Map==="undefined"||!hasSymbols?undefined:getProto((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise==="undefined"?undefined:Promise,"%Proxy%":typeof Proxy==="undefined"?undefined:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect==="undefined"?undefined:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set==="undefined"?undefined:Set,"%SetIteratorPrototype%":typeof Set==="undefined"||!hasSymbols?undefined:getProto((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer==="undefined"?undefined:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols?getProto(""[Symbol.iterator]()):undefined,"%Symbol%":hasSymbols?Symbol:undefined,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError,"%Uint8Array%":typeof Uint8Array==="undefined"?undefined:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray==="undefined"?undefined:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array==="undefined"?undefined:Uint16Array,"%Uint32Array%":typeof Uint32Array==="undefined"?undefined:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap==="undefined"?undefined:WeakMap,"%WeakRef%":typeof WeakRef==="undefined"?undefined:WeakRef,"%WeakSet%":typeof WeakSet==="undefined"?undefined:WeakSet};var LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]};var bind=require("function-bind");var hasOwn=require("has");var $concat=bind.call(Function.call,Array.prototype.concat);var $spliceApply=bind.call(Function.apply,Array.prototype.splice);var $replace=bind.call(Function.call,String.prototype.replace);var $strSlice=bind.call(Function.call,String.prototype.slice);var rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;var reEscapeChar=/\\(\\)?/g;var stringToPath=function stringToPath(string){var first=$strSlice(string,0,1);var last=$strSlice(string,-1);if(first==="%"&&last!=="%"){throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`")}else if(last==="%"&&first!=="%"){throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`")}var result=[];$replace(string,rePropName,function(match,number,quote,subString){result[result.length]=quote?$replace(subString,reEscapeChar,"$1"):number||match});return result};var getBaseIntrinsic=function getBaseIntrinsic(name,allowMissing){var intrinsicName=name;var alias;if(hasOwn(LEGACY_ALIASES,intrinsicName)){alias=LEGACY_ALIASES[intrinsicName];intrinsicName="%"+alias[0]+"%"}if(hasOwn(INTRINSICS,intrinsicName)){var value=INTRINSICS[intrinsicName];if(typeof value==="undefined"&&!allowMissing){throw new $TypeError("intrinsic "+name+" exists, but is not available. Please file an issue!")}return{alias:alias,name:intrinsicName,value:value}}throw new $SyntaxError("intrinsic "+name+" does not exist!")};module.exports=function GetIntrinsic(name,allowMissing){if(typeof name!=="string"||name.length===0){throw new $TypeError("intrinsic name must be a non-empty string")}if(arguments.length>1&&typeof allowMissing!=="boolean"){throw new $TypeError('"allowMissing" argument must be a boolean')}var parts=stringToPath(name);var intrinsicBaseName=parts.length>0?parts[0]:"";var intrinsic=getBaseIntrinsic("%"+intrinsicBaseName+"%",allowMissing);var intrinsicRealName=intrinsic.name;var value=intrinsic.value;var skipFurtherCaching=false;var alias=intrinsic.alias;if(alias){intrinsicBaseName=alias[0];$spliceApply(parts,$concat([0,1],alias))}for(var i=1,isOwn=true;i<parts.length;i+=1){var part=parts[i];var first=$strSlice(part,0,1);var last=$strSlice(part,-1);if((first==='"'||first==="'"||first==="`"||(last==='"'||last==="'"||last==="`"))&&first!==last){throw new $SyntaxError("property names with quotes must have matching quotes")}if(part==="constructor"||!isOwn){skipFurtherCaching=true}intrinsicBaseName+="."+part;intrinsicRealName="%"+intrinsicBaseName+"%";if(hasOwn(INTRINSICS,intrinsicRealName)){value=INTRINSICS[intrinsicRealName]}else if(value!=null){if(!(part in value)){if(!allowMissing){throw new $TypeError("base intrinsic for "+name+" exists, but the property is not available.")}return void undefined}if($gOPD&&i+1>=parts.length){var desc=$gOPD(value,part);isOwn=!!desc;if(isOwn&&"get"in desc&&!("originalValue"in desc.get)){value=desc.get}else{value=value[part]}}else{isOwn=hasOwn(value,part);value=value[part]}if(isOwn&&!skipFurtherCaching){INTRINSICS[intrinsicRealName]=value}}}return value}},{"function-bind":15,has:19,"has-symbols":17}],17:[function(require,module,exports){(function(global){(function(){"use strict";var origSymbol=global.Symbol;var hasSymbolSham=require("./shams");module.exports=function hasNativeSymbols(){if(typeof origSymbol!=="function"){return false}if(typeof Symbol!=="function"){return false}if(typeof origSymbol("foo")!=="symbol"){return false}if(typeof Symbol("bar")!=="symbol"){return false}return hasSymbolSham()}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./shams":18}],18:[function(require,module,exports){"use strict";module.exports=function hasSymbols(){if(typeof Symbol!=="function"||typeof Object.getOwnPropertySymbols!=="function"){return false}if(typeof Symbol.iterator==="symbol"){return true}var obj={};var sym=Symbol("test");var symObj=Object(sym);if(typeof sym==="string"){return false}if(Object.prototype.toString.call(sym)!=="[object Symbol]"){return false}if(Object.prototype.toString.call(symObj)!=="[object Symbol]"){return false}var symVal=42;obj[sym]=symVal;for(sym in obj){return false}if(typeof Object.keys==="function"&&Object.keys(obj).length!==0){return false}if(typeof Object.getOwnPropertyNames==="function"&&Object.getOwnPropertyNames(obj).length!==0){return false}var syms=Object.getOwnPropertySymbols(obj);if(syms.length!==1||syms[0]!==sym){return false}if(!Object.prototype.propertyIsEnumerable.call(obj,sym)){return false}if(typeof Object.getOwnPropertyDescriptor==="function"){var descriptor=Object.getOwnPropertyDescriptor(obj,sym);if(descriptor.value!==symVal||descriptor.enumerable!==true){return false}}return true}},{}],19:[function(require,module,exports){"use strict";var bind=require("function-bind");module.exports=bind.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":15}],20:[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var nBits=-7;var i=isLE?nBytes-1:0;var d=isLE?-1:1;var s=buffer[offset+i];i+=d;e=s&(1<<-nBits)-1;s>>=-nBits;nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8){}m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8){}if(e===0){e=1-eBias}else if(e===eMax){return m?NaN:(s?-1:1)*Infinity}else{m=m+Math.pow(2,mLen);e=e-eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)};exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var rt=mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0;var i=isLE?0:nBytes-1;var d=isLE?1:-1;var s=value<0||value===0&&1/value<0?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2}if(e+eBias>=1){value+=rt/c}else{value+=rt*Math.pow(2,1-eBias)}if(value*c>=2){e++;c/=2}if(e+eBias>=eMax){m=0;e=eMax}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen);e=e+eBias}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0}}for(;mLen>=8;buffer[offset+i]=m&255,i+=d,m/=256,mLen-=8){}e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&255,i+=d,e/=256,eLen-=8){}buffer[offset+i-d]|=s*128}},{}],21:[function(require,module,exports){if(typeof Object.create==="function"){module.exports=function inherits(ctor,superCtor){if(superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}}else{module.exports=function inherits(ctor,superCtor){if(superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}}},{}],22:[function(require,module,exports){"use strict";var hasToStringTag=typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol";var callBound=require("call-bind/callBound");var $toString=callBound("Object.prototype.toString");var isStandardArguments=function isArguments(value){if(hasToStringTag&&value&&typeof value==="object"&&Symbol.toStringTag in value){return false}return $toString(value)==="[object Arguments]"};var isLegacyArguments=function isArguments(value){if(isStandardArguments(value)){return true}return value!==null&&typeof value==="object"&&typeof value.length==="number"&&value.length>=0&&$toString(value)!=="[object Array]"&&$toString(value.callee)==="[object Function]"};var supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;module.exports=supportsStandardArguments?isStandardArguments:isLegacyArguments},{"call-bind/callBound":9}],23:[function(require,module,exports){"use strict";var toStr=Object.prototype.toString;var fnToStr=Function.prototype.toString;var isFnRegex=/^\s*(?:function)?\*/;var hasToStringTag=typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol";var getProto=Object.getPrototypeOf;var getGeneratorFunc=function(){if(!hasToStringTag){return false}try{return Function("return function*() {}")()}catch(e){}};var generatorFunc=getGeneratorFunc();var GeneratorFunction=getProto&&generatorFunc?getProto(generatorFunc):false;module.exports=function isGeneratorFunction(fn){if(typeof fn!=="function"){return false}if(isFnRegex.test(fnToStr.call(fn))){return true}if(!hasToStringTag){var str=toStr.call(fn);return str==="[object GeneratorFunction]"}return getProto&&getProto(fn)===GeneratorFunction}},{}],24:[function(require,module,exports){(function(global){(function(){"use strict";var forEach=require("foreach");var availableTypedArrays=require("available-typed-arrays");var callBound=require("call-bind/callBound");var $toString=callBound("Object.prototype.toString");var hasSymbols=require("has-symbols")();var hasToStringTag=hasSymbols&&typeof Symbol.toStringTag==="symbol";var typedArrays=availableTypedArrays();var $indexOf=callBound("Array.prototype.indexOf",true)||function indexOf(array,value){for(var i=0;i<array.length;i+=1){if(array[i]===value){return i}}return-1};var $slice=callBound("String.prototype.slice");var toStrTags={};var gOPD=require("es-abstract/helpers/getOwnPropertyDescriptor");var getPrototypeOf=Object.getPrototypeOf;if(hasToStringTag&&gOPD&&getPrototypeOf){forEach(typedArrays,function(typedArray){var arr=new global[typedArray];if(!(Symbol.toStringTag in arr)){throw new EvalError("this engine has support for Symbol.toStringTag, but "+typedArray+" does not have the property! Please report this.")}var proto=getPrototypeOf(arr);var descriptor=gOPD(proto,Symbol.toStringTag);if(!descriptor){var superProto=getPrototypeOf(proto);descriptor=gOPD(superProto,Symbol.toStringTag)}toStrTags[typedArray]=descriptor.get})}var tryTypedArrays=function tryAllTypedArrays(value){var anyTrue=false;forEach(toStrTags,function(getter,typedArray){if(!anyTrue){try{anyTrue=getter.call(value)===typedArray}catch(e){}}});return anyTrue};module.exports=function isTypedArray(value){if(!value||typeof value!=="object"){return false}if(!hasToStringTag){var tag=$slice($toString(value),8,-1);return $indexOf(typedArrays,tag)>-1}if(!gOPD){return false}return tryTypedArrays(value)}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"available-typed-arrays":6,"call-bind/callBound":9,"es-abstract/helpers/getOwnPropertyDescriptor":12,foreach:13,"has-symbols":17}],25:[function(require,module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(name){return[]};process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}],26:[function(require,module,exports){module.exports=function isBuffer(arg){return arg&&typeof arg==="object"&&typeof arg.copy==="function"&&typeof arg.fill==="function"&&typeof arg.readUInt8==="function"}},{}],27:[function(require,module,exports){"use strict";var isArgumentsObject=require("is-arguments");var isGeneratorFunction=require("is-generator-function");var whichTypedArray=require("which-typed-array");var isTypedArray=require("is-typed-array");function uncurryThis(f){return f.call.bind(f)}var BigIntSupported=typeof BigInt!=="undefined";var SymbolSupported=typeof Symbol!=="undefined";var ObjectToString=uncurryThis(Object.prototype.toString);var numberValue=uncurryThis(Number.prototype.valueOf);var stringValue=uncurryThis(String.prototype.valueOf);var booleanValue=uncurryThis(Boolean.prototype.valueOf);if(BigIntSupported){var bigIntValue=uncurryThis(BigInt.prototype.valueOf)}if(SymbolSupported){var symbolValue=uncurryThis(Symbol.prototype.valueOf)}function checkBoxedPrimitive(value,prototypeValueOf){if(typeof value!=="object"){return false}try{prototypeValueOf(value);return true}catch(e){return false}}exports.isArgumentsObject=isArgumentsObject;exports.isGeneratorFunction=isGeneratorFunction;exports.isTypedArray=isTypedArray;function isPromise(input){return typeof Promise!=="undefined"&&input instanceof Promise||input!==null&&typeof input==="object"&&typeof input.then==="function"&&typeof input.catch==="function"}exports.isPromise=isPromise;function isArrayBufferView(value){if(typeof ArrayBuffer!=="undefined"&&ArrayBuffer.isView){return ArrayBuffer.isView(value)}return isTypedArray(value)||isDataView(value)}exports.isArrayBufferView=isArrayBufferView;function isUint8Array(value){return whichTypedArray(value)==="Uint8Array"}exports.isUint8Array=isUint8Array;function isUint8ClampedArray(value){return whichTypedArray(value)==="Uint8ClampedArray"}exports.isUint8ClampedArray=isUint8ClampedArray;function isUint16Array(value){return whichTypedArray(value)==="Uint16Array"}exports.isUint16Array=isUint16Array;function isUint32Array(value){return whichTypedArray(value)==="Uint32Array"}exports.isUint32Array=isUint32Array;function isInt8Array(value){return whichTypedArray(value)==="Int8Array"}exports.isInt8Array=isInt8Array;function isInt16Array(value){return whichTypedArray(value)==="Int16Array"}exports.isInt16Array=isInt16Array;function isInt32Array(value){return whichTypedArray(value)==="Int32Array"}exports.isInt32Array=isInt32Array;function isFloat32Array(value){return whichTypedArray(value)==="Float32Array"}exports.isFloat32Array=isFloat32Array;function isFloat64Array(value){return whichTypedArray(value)==="Float64Array"}exports.isFloat64Array=isFloat64Array;function isBigInt64Array(value){return whichTypedArray(value)==="BigInt64Array"}exports.isBigInt64Array=isBigInt64Array;function isBigUint64Array(value){return whichTypedArray(value)==="BigUint64Array"}exports.isBigUint64Array=isBigUint64Array;function isMapToString(value){return ObjectToString(value)==="[object Map]"}isMapToString.working=typeof Map!=="undefined"&&isMapToString(new Map);function isMap(value){if(typeof Map==="undefined"){return false}return isMapToString.working?isMapToString(value):value instanceof Map}exports.isMap=isMap;function isSetToString(value){return ObjectToString(value)==="[object Set]"}isSetToString.working=typeof Set!=="undefined"&&isSetToString(new Set);function isSet(value){if(typeof Set==="undefined"){return false}return isSetToString.working?isSetToString(value):value instanceof Set}exports.isSet=isSet;function isWeakMapToString(value){return ObjectToString(value)==="[object WeakMap]"}isWeakMapToString.working=typeof WeakMap!=="undefined"&&isWeakMapToString(new WeakMap);function isWeakMap(value){if(typeof WeakMap==="undefined"){return false}return isWeakMapToString.working?isWeakMapToString(value):value instanceof WeakMap}exports.isWeakMap=isWeakMap;function isWeakSetToString(value){return ObjectToString(value)==="[object WeakSet]"}isWeakSetToString.working=typeof WeakSet!=="undefined"&&isWeakSetToString(new WeakSet);function isWeakSet(value){return isWeakSetToString(value)}exports.isWeakSet=isWeakSet;function isArrayBufferToString(value){return ObjectToString(value)==="[object ArrayBuffer]"}isArrayBufferToString.working=typeof ArrayBuffer!=="undefined"&&isArrayBufferToString(new ArrayBuffer);function isArrayBuffer(value){if(typeof ArrayBuffer==="undefined"){return false}return isArrayBufferToString.working?isArrayBufferToString(value):value instanceof ArrayBuffer}exports.isArrayBuffer=isArrayBuffer;function isDataViewToString(value){return ObjectToString(value)==="[object DataView]"}isDataViewToString.working=typeof ArrayBuffer!=="undefined"&&typeof DataView!=="undefined"&&isDataViewToString(new DataView(new ArrayBuffer(1),0,1));function isDataView(value){if(typeof DataView==="undefined"){return false}return isDataViewToString.working?isDataViewToString(value):value instanceof DataView}exports.isDataView=isDataView;function isSharedArrayBufferToString(value){return ObjectToString(value)==="[object SharedArrayBuffer]"}isSharedArrayBufferToString.working=typeof SharedArrayBuffer!=="undefined"&&isSharedArrayBufferToString(new SharedArrayBuffer);function isSharedArrayBuffer(value){if(typeof SharedArrayBuffer==="undefined"){return false}return isSharedArrayBufferToString.working?isSharedArrayBufferToString(value):value instanceof SharedArrayBuffer}exports.isSharedArrayBuffer=isSharedArrayBuffer;function isAsyncFunction(value){return ObjectToString(value)==="[object AsyncFunction]"}exports.isAsyncFunction=isAsyncFunction;function isMapIterator(value){return ObjectToString(value)==="[object Map Iterator]"}exports.isMapIterator=isMapIterator;function isSetIterator(value){return ObjectToString(value)==="[object Set Iterator]"}exports.isSetIterator=isSetIterator;function isGeneratorObject(value){return ObjectToString(value)==="[object Generator]"}exports.isGeneratorObject=isGeneratorObject;function isWebAssemblyCompiledModule(value){return ObjectToString(value)==="[object WebAssembly.Module]"}exports.isWebAssemblyCompiledModule=isWebAssemblyCompiledModule;function isNumberObject(value){return checkBoxedPrimitive(value,numberValue)}exports.isNumberObject=isNumberObject;function isStringObject(value){return checkBoxedPrimitive(value,stringValue)}exports.isStringObject=isStringObject;function isBooleanObject(value){return checkBoxedPrimitive(value,booleanValue)}exports.isBooleanObject=isBooleanObject;function isBigIntObject(value){return BigIntSupported&&checkBoxedPrimitive(value,bigIntValue)}exports.isBigIntObject=isBigIntObject;function isSymbolObject(value){return SymbolSupported&&checkBoxedPrimitive(value,symbolValue)}exports.isSymbolObject=isSymbolObject;function isBoxedPrimitive(value){return isNumberObject(value)||isStringObject(value)||isBooleanObject(value)||isBigIntObject(value)||isSymbolObject(value)}exports.isBoxedPrimitive=isBoxedPrimitive;function isAnyArrayBuffer(value){return typeof Uint8Array!=="undefined"&&(isArrayBuffer(value)||isSharedArrayBuffer(value))}exports.isAnyArrayBuffer=isAnyArrayBuffer;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(method){Object.defineProperty(exports,method,{enumerable:false,value:function(){throw new Error(method+" is not supported in userland")}})})},{"is-arguments":22,"is-generator-function":23,"is-typed-array":24,"which-typed-array":29}],28:[function(require,module,exports){(function(process){(function(){var getOwnPropertyDescriptors=Object.getOwnPropertyDescriptors||function getOwnPropertyDescriptors(obj){var keys=Object.keys(obj);var descriptors={};for(var i=0;i<keys.length;i++){descriptors[keys[i]]=Object.getOwnPropertyDescriptor(obj,keys[i])}return descriptors};var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect(arguments[i]))}return objects.join(" ")}var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,function(x){if(x==="%%")return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}});for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=" "+x}else{str+=" "+inspect(x)}}return str};exports.deprecate=function(fn,msg){if(typeof process!=="undefined"&&process.noDeprecation===true){return fn}if(typeof process==="undefined"){return function(){return exports.deprecate(fn,msg).apply(this,arguments)}}var warned=false;function deprecated(){if(!warned){if(process.throwDeprecation){throw new Error(msg)}else if(process.traceDeprecation){console.trace(msg)}else{console.error(msg)}warned=true}return fn.apply(this,arguments)}return deprecated};var debugs={};var debugEnvRegex=/^$/;if(process.env.NODE_DEBUG){var debugEnv=process.env.NODE_DEBUG;debugEnv=debugEnv.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase();debugEnvRegex=new RegExp("^"+debugEnv+"$","i")}exports.debuglog=function(set){set=set.toUpperCase();if(!debugs[set]){if(debugEnvRegex.test(set)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else{debugs[set]=function(){}}}return debugs[set]};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){ctx.showHidden=opts}else if(opts){exports._extend(ctx,opts)}if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth)}exports.inspect=inspect;inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style){return"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m"}else{return str}}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};array.forEach(function(val,idx){hash[val]=true});return hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes,ctx);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes)}return ret}var primitive=formatPrimitive(ctx,value);if(primitive){return primitive}var keys=Object.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=Object.getOwnPropertyNames(value)}if(isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0)){return formatError(value)}if(keys.length===0){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),"date")}if(isError(value)){return formatError(value)}}var base="",array=false,braces=["{","}"];if(isArray(value)){array=true;braces=["[","]"]}if(isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)){base=" "+RegExp.prototype.toString.call(value)}if(isDate(value)){base=" "+Date.prototype.toUTCString.call(value)}if(isError(value)){base=" "+formatError(value)}if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1]}if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}else{return ctx.stylize("[Object]","special")}}ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys)}else{output=keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)})}ctx.seen.pop();return reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true))}else{output.push("")}}keys.forEach(function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true))}});return output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize("[Getter/Setter]","special")}else{str=ctx.stylize("[Getter]","special")}}else{if(desc.set){str=ctx.stylize("[Setter]","special")}}if(!hasOwnProperty(visibleKeys,key)){name="["+key+"]"}if(!str){if(ctx.seen.indexOf(desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null)}else{str=formatValue(ctx,desc.value,recurseTimes-1)}if(str.indexOf("\n")>-1){if(array){str=str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2)}else{str="\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")}}}else{str=ctx.stylize("[Circular]","special")}}if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str}name=JSON.stringify(""+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,"name")}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,"string")}}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0;var length=output.reduce(function(prev,cur){numLinesEst++;if(cur.indexOf("\n")>=0)numLinesEst++;return prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(length>60){return braces[0]+(base===""?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]}return braces[0]+base+" "+output.join(", ")+" "+braces[1]}exports.types=require("./support/types");function isArray(ar){return Array.isArray(ar)}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;exports.types.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==="[object Date]"}exports.isDate=isDate;exports.types.isDate=isDate;function isError(e){return isObject(e)&&(objectToString(e)==="[object Error]"||e instanceof Error)}exports.isError=isError;exports.types.isNativeError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=require("./support/isBuffer");function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var d=new Date;var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))};exports.inherits=require("inherits");exports._extend=function(origin,add){if(!add||!isObject(add))return origin;var keys=Object.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]]}return origin};function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var kCustomPromisifiedSymbol=typeof Symbol!=="undefined"?Symbol("util.promisify.custom"):undefined;exports.promisify=function promisify(original){if(typeof original!=="function")throw new TypeError('The "original" argument must be of type Function');if(kCustomPromisifiedSymbol&&original[kCustomPromisifiedSymbol]){var fn=original[kCustomPromisifiedSymbol];if(typeof fn!=="function"){throw new TypeError('The "util.promisify.custom" argument must be of type Function')}Object.defineProperty(fn,kCustomPromisifiedSymbol,{value:fn,enumerable:false,writable:false,configurable:true});return fn}function fn(){var promiseResolve,promiseReject;var promise=new Promise(function(resolve,reject){promiseResolve=resolve;promiseReject=reject});var args=[];for(var i=0;i<arguments.length;i++){args.push(arguments[i])}args.push(function(err,value){if(err){promiseReject(err)}else{promiseResolve(value)}});try{original.apply(this,args)}catch(err){promiseReject(err)}return promise}Object.setPrototypeOf(fn,Object.getPrototypeOf(original));if(kCustomPromisifiedSymbol)Object.defineProperty(fn,kCustomPromisifiedSymbol,{value:fn,enumerable:false,writable:false,configurable:true});return Object.defineProperties(fn,getOwnPropertyDescriptors(original))};exports.promisify.custom=kCustomPromisifiedSymbol;function callbackifyOnRejected(reason,cb){if(!reason){var newReason=new Error("Promise was rejected with a falsy value");newReason.reason=reason;reason=newReason}return cb(reason)}function callbackify(original){if(typeof original!=="function"){throw new TypeError('The "original" argument must be of type Function')}function callbackified(){var args=[];for(var i=0;i<arguments.length;i++){args.push(arguments[i])}var maybeCb=args.pop();if(typeof maybeCb!=="function"){throw new TypeError("The last argument must be of type Function")}var self=this;var cb=function(){return maybeCb.apply(self,arguments)};original.apply(this,args).then(function(ret){process.nextTick(cb.bind(null,null,ret))},function(rej){process.nextTick(callbackifyOnRejected.bind(null,rej,cb))})}Object.setPrototypeOf(callbackified,Object.getPrototypeOf(original));Object.defineProperties(callbackified,getOwnPropertyDescriptors(original));return callbackified}exports.callbackify=callbackify}).call(this)}).call(this,require("_process"))},{"./support/isBuffer":26,"./support/types":27,_process:25,inherits:21}],29:[function(require,module,exports){(function(global){(function(){"use strict";var forEach=require("foreach");var availableTypedArrays=require("available-typed-arrays");var callBound=require("call-bind/callBound");var $toString=callBound("Object.prototype.toString");var hasSymbols=require("has-symbols")();var hasToStringTag=hasSymbols&&typeof Symbol.toStringTag==="symbol";var typedArrays=availableTypedArrays();var $slice=callBound("String.prototype.slice");var toStrTags={};var gOPD=require("es-abstract/helpers/getOwnPropertyDescriptor");var getPrototypeOf=Object.getPrototypeOf;if(hasToStringTag&&gOPD&&getPrototypeOf){forEach(typedArrays,function(typedArray){if(typeof global[typedArray]==="function"){var arr=new global[typedArray];if(!(Symbol.toStringTag in arr)){throw new EvalError("this engine has support for Symbol.toStringTag, but "+typedArray+" does not have the property! Please report this.")}var proto=getPrototypeOf(arr);var descriptor=gOPD(proto,Symbol.toStringTag);if(!descriptor){var superProto=getPrototypeOf(proto);descriptor=gOPD(superProto,Symbol.toStringTag)}toStrTags[typedArray]=descriptor.get}})}var tryTypedArrays=function tryAllTypedArrays(value){var foundName=false;forEach(toStrTags,function(getter,typedArray){if(!foundName){try{var name=getter.call(value);if(name===typedArray){foundName=name}}catch(e){}}});return foundName};var isTypedArray=require("is-typed-array");module.exports=function whichTypedArray(value){if(!isTypedArray(value)){return false}if(!hasToStringTag){return $slice($toString(value),8,-1)}return tryTypedArrays(value)}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"available-typed-arrays":6,"call-bind/callBound":9,"es-abstract/helpers/getOwnPropertyDescriptor":12,foreach:13,"has-symbols":17,"is-typed-array":24}]},{},[1])(1)});